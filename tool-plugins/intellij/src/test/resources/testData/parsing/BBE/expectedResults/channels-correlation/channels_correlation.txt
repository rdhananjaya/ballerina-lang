Ballerina File(0,1533)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,44)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,43)
      PACKAGE_NAME(40,43)
        PsiElement(identifier)('log')(40,43)
    PsiElement(;)(';')(43,44)
  PsiWhiteSpace('\n\n')(44,46)
  PsiComment(LINE_COMMENT)('//Defines a channel with json constrained type.')(46,93)
  PsiWhiteSpace('\n')(93,94)
  DEFINITION(94,120)
    GLOBAL_VARIABLE(94,120)
      CHANNEL_DEFINITION(94,120)
        CHANNEL_TYPE(94,107)
          PsiElement(channel)('channel')(94,101)
          PsiElement(<)('<')(101,102)
          SIMPLE_TYPE_NAME(102,106)
            REFERENCE_TYPE_NAME(102,106)
              BUILT_IN_REFERENCE_TYPE_NAME(102,106)
                JSON_TYPE_NAME(102,106)
                  PsiElement(json)('json')(102,106)
          PsiElement(>)('>')(106,107)
        PsiWhiteSpace(' ')(107,108)
        PsiElement(identifier)('jsonChannel')(108,119)
        PsiElement(;)(';')(119,120)
  PsiWhiteSpace('\n\n')(120,122)
  DEFINITION(122,1533)
    SERVICE_DEFINITION(122,1533)
      PsiElement(service)('service')(122,129)
      PsiElement(<)('<')(129,130)
      NAME_REFERENCE(130,142)
        PACKAGE_REFERENCE(130,135)
          PsiElement(identifier)('http')(130,134)
          PsiElement(:)(':')(134,135)
        PsiElement(identifier)('Service')(135,142)
      PsiElement(>)('>')(142,143)
      PsiWhiteSpace(' ')(143,144)
      PsiElement(identifier)('channelService')(144,158)
      PsiWhiteSpace(' ')(158,159)
      SERVICE_ENDPOINT_ATTACHMENTS(159,178)
        PsiElement(bind)('bind')(159,163)
        PsiWhiteSpace(' ')(163,164)
        RECORD_LITERAL(164,178)
          PsiElement({)('{')(164,165)
          PsiWhiteSpace(' ')(165,166)
          RECORD_LITERAL_BODY(166,176)
            RECORD_KEY_VALUE(166,176)
              RECORD_KEY(166,170)
                VARIABLE_REFERENCE_EXPRESSION(166,170)
                  SIMPLE_VARIABLE_REFERENCE(166,170)
                    NAME_REFERENCE(166,170)
                      PsiElement(identifier)('port')(166,170)
              PsiElement(:)(':')(170,171)
              PsiWhiteSpace(' ')(171,172)
              SIMPLE_LITERAL_EXPRESSION(172,176)
                SIMPLE_LITERAL(172,176)
                  INTEGER_LITERAL(172,176)
                    PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(172,176)
          PsiWhiteSpace(' ')(176,177)
          PsiElement(})('}')(177,178)
      PsiWhiteSpace(' ')(178,179)
      SERVICE_BODY(179,1533)
        PsiElement({)('{')(179,180)
        PsiWhiteSpace('\n\n    ')(180,186)
        RESOURCE_DEFINITION(186,804)
          PsiElement(identifier)('receive')(186,193)
          PsiWhiteSpace(' ')(193,194)
          PsiElement(()('(')(194,195)
          RESOURCE_PARAMETER_LIST(195,232)
            ENDPOINT_PARAMETER(195,232)
              PsiElement(endpoint)('endpoint')(195,203)
              PsiWhiteSpace(' ')(203,204)
              PsiElement(identifier)('caller')(204,210)
              PsiElement(,)(',')(210,211)
              PsiWhiteSpace(' ')(211,212)
              PARAMETER_LIST(212,232)
                PARAMETER(212,232)
                  PARAMETER_WITH_TYPE(212,232)
                    SIMPLE_TYPE_NAME(212,224)
                      REFERENCE_TYPE_NAME(212,224)
                        USER_DEFINE_TYPE_NAME(212,224)
                          NAME_REFERENCE(212,224)
                            PACKAGE_REFERENCE(212,217)
                              PsiElement(identifier)('http')(212,216)
                              PsiElement(:)(':')(216,217)
                            PsiElement(identifier)('Request')(217,224)
                    PsiWhiteSpace(' ')(224,225)
                    PsiElement(identifier)('request')(225,232)
          PsiElement())(')')(232,233)
          PsiWhiteSpace(' ')(233,234)
          CALLABLE_UNIT_BODY(234,804)
            PsiElement({)('{')(234,235)
            PsiWhiteSpace('\n\n           ')(235,248)
            PsiComment(LINE_COMMENT)('//A key can be associated with a channel action.')(248,296)
            PsiWhiteSpace('\n           ')(296,308)
            PsiComment(LINE_COMMENT)('//You can use a key to correlate receivers and senders.')(308,363)
            PsiWhiteSpace('\n           ')(363,375)
            BLOCK(375,795)
              STATEMENT(375,394)
                VARIABLE_DEFINITION_STATEMENT(375,394)
                  SIMPLE_TYPE_NAME(375,381)
                    VALUE_TYPE_NAME(375,381)
                      PsiElement(string)('string')(375,381)
                  PsiWhiteSpace(' ')(381,382)
                  PsiElement(identifier)('key')(382,385)
                  PsiWhiteSpace(' ')(385,386)
                  PsiElement(=)('=')(386,387)
                  PsiWhiteSpace(' ')(387,388)
                  SIMPLE_LITERAL_EXPRESSION(388,393)
                    SIMPLE_LITERAL(388,393)
                      PsiElement(QUOTED_STRING_LITERAL)('"123"')(388,393)
                  PsiElement(;)(';')(393,394)
              PsiWhiteSpace('\n\n           ')(394,407)
              STATEMENT(407,419)
                VARIABLE_DEFINITION_STATEMENT(407,419)
                  SIMPLE_TYPE_NAME(407,411)
                    REFERENCE_TYPE_NAME(407,411)
                      BUILT_IN_REFERENCE_TYPE_NAME(407,411)
                        JSON_TYPE_NAME(407,411)
                          PsiElement(json)('json')(407,411)
                  PsiWhiteSpace(' ')(411,412)
                  PsiElement(identifier)('result')(412,418)
                  PsiElement(;)(';')(418,419)
              PsiWhiteSpace('\n           ')(419,431)
              PsiComment(LINE_COMMENT)('//Receive a message from the channel with given key.')(431,483)
              PsiWhiteSpace('\n           ')(483,495)
              PsiComment(LINE_COMMENT)('//Execution waits here if the message is not available.')(495,550)
              PsiWhiteSpace('\n           ')(550,562)
              STATEMENT(562,589)
                WORKER_INTERACTION_STATEMENT(562,589)
                  WORKER_REPLY(562,589)
                    VARIABLE_REFERENCE_EXPRESSION(562,568)
                      SIMPLE_VARIABLE_REFERENCE(562,568)
                        NAME_REFERENCE(562,568)
                          PsiElement(identifier)('result')(562,568)
                    PsiWhiteSpace(' ')(568,569)
                    PsiElement(<-)('<-')(569,571)
                    PsiWhiteSpace(' ')(571,572)
                    PsiElement(identifier)('jsonChannel')(572,583)
                    PsiElement(,)(',')(583,584)
                    PsiWhiteSpace(' ')(584,585)
                    VARIABLE_REFERENCE_EXPRESSION(585,588)
                      SIMPLE_VARIABLE_REFERENCE(585,588)
                        NAME_REFERENCE(585,588)
                          PsiElement(identifier)('key')(585,588)
                    PsiElement(;)(';')(588,589)
              PsiWhiteSpace('\n           ')(589,601)
              PsiComment(LINE_COMMENT)('//Send the received message as the response.')(601,645)
              PsiWhiteSpace('\n           ')(645,657)
              STATEMENT(657,795)
                ASSIGNMENT_STATEMENT(657,795)
                  SIMPLE_VARIABLE_REFERENCE(657,658)
                    NAME_REFERENCE(657,658)
                      PsiElement(identifier)('_')(657,658)
                  PsiWhiteSpace(' ')(658,659)
                  PsiElement(=)('=')(659,660)
                  PsiWhiteSpace(' ')(660,661)
                  MATCH_EXPR_EXPRESSION(661,794)
                    ACTION_INVOCATION_EXPRESSION(661,684)
                      ACTION_INVOCATION(661,684)
                        NAME_REFERENCE(661,667)
                          PsiElement(identifier)('caller')(661,667)
                        PsiElement(->)('->')(667,669)
                        FUNCTION_INVOCATION(669,684)
                          FUNCTION_NAME_REFERENCE(669,676)
                            ANY_IDENTIFIER_NAME(669,676)
                              PsiElement(identifier)('respond')(669,676)
                          PsiElement(()('(')(676,677)
                          INVOCATION_ARG_LIST(677,683)
                            INVOCATION_ARG(677,683)
                              VARIABLE_REFERENCE_EXPRESSION(677,683)
                                SIMPLE_VARIABLE_REFERENCE(677,683)
                                  NAME_REFERENCE(677,683)
                                    PsiElement(identifier)('result')(677,683)
                          PsiElement())(')')(683,684)
                    PsiWhiteSpace(' ')(684,685)
                    MATCH_EXPRESSION(685,794)
                      PsiElement(but)('but')(685,688)
                      PsiWhiteSpace(' ')(688,689)
                      PsiElement({)('{')(689,690)
                      PsiWhiteSpace(' ')(690,691)
                      MATCH_EXPRESSION_PATTERN_CLAUSE(691,792)
                        SIMPLE_TYPE_NAME(691,696)
                          REFERENCE_TYPE_NAME(691,696)
                            USER_DEFINE_TYPE_NAME(691,696)
                              NAME_REFERENCE(691,696)
                                PsiElement(identifier)('error')(691,696)
                        PsiWhiteSpace(' ')(696,697)
                        PsiElement(identifier)('e')(697,698)
                        PsiWhiteSpace(' ')(698,699)
                        PsiElement(=>)('=>')(699,701)
                        PsiWhiteSpace(' ')(701,702)
                        VARIABLE_REFERENCE_EXPRESSION(702,792)
                          FUNCTION_INVOCATION_REFERENCE(702,792)
                            FUNCTION_INVOCATION(702,792)
                              FUNCTION_NAME_REFERENCE(702,716)
                                PACKAGE_REFERENCE(702,706)
                                  PsiElement(identifier)('log')(702,705)
                                  PsiElement(:)(':')(705,706)
                                ANY_IDENTIFIER_NAME(706,716)
                                  PsiElement(identifier)('printError')(706,716)
                              PsiElement(()('(')(716,717)
                              PsiWhiteSpace('\n                                        ')(717,758)
                              INVOCATION_ARG_LIST(758,791)
                                INVOCATION_ARG(758,782)
                                  SIMPLE_LITERAL_EXPRESSION(758,782)
                                    SIMPLE_LITERAL(758,782)
                                      PsiElement(QUOTED_STRING_LITERAL)('"Error sending response"')(758,782)
                                PsiElement(,)(',')(782,783)
                                PsiWhiteSpace(' ')(783,784)
                                INVOCATION_ARG(784,791)
                                  NAMED_ARGS(784,791)
                                    PsiElement(identifier)('err')(784,787)
                                    PsiWhiteSpace(' ')(787,788)
                                    PsiElement(=)('=')(788,789)
                                    PsiWhiteSpace(' ')(789,790)
                                    VARIABLE_REFERENCE_EXPRESSION(790,791)
                                      SIMPLE_VARIABLE_REFERENCE(790,791)
                                        NAME_REFERENCE(790,791)
                                          PsiElement(identifier)('e')(790,791)
                              PsiElement())(')')(791,792)
                      PsiWhiteSpace(' ')(792,793)
                      PsiElement(})('}')(793,794)
                  PsiElement(;)(';')(794,795)
            PsiWhiteSpace('\n       ')(795,803)
            PsiElement(})('}')(803,804)
        PsiWhiteSpace('\n\n    ')(804,810)
        RESOURCE_DEFINITION(810,1531)
          PsiElement(identifier)('send')(810,814)
          PsiWhiteSpace(' ')(814,815)
          PsiElement(()('(')(815,816)
          RESOURCE_PARAMETER_LIST(816,853)
            ENDPOINT_PARAMETER(816,853)
              PsiElement(endpoint)('endpoint')(816,824)
              PsiWhiteSpace(' ')(824,825)
              PsiElement(identifier)('caller')(825,831)
              PsiElement(,)(',')(831,832)
              PsiWhiteSpace(' ')(832,833)
              PARAMETER_LIST(833,853)
                PARAMETER(833,853)
                  PARAMETER_WITH_TYPE(833,853)
                    SIMPLE_TYPE_NAME(833,845)
                      REFERENCE_TYPE_NAME(833,845)
                        USER_DEFINE_TYPE_NAME(833,845)
                          NAME_REFERENCE(833,845)
                            PACKAGE_REFERENCE(833,838)
                              PsiElement(identifier)('http')(833,837)
                              PsiElement(:)(':')(837,838)
                            PsiElement(identifier)('Request')(838,845)
                    PsiWhiteSpace(' ')(845,846)
                    PsiElement(identifier)('request')(846,853)
          PsiElement())(')')(853,854)
          PsiWhiteSpace(' ')(854,855)
          CALLABLE_UNIT_BODY(855,1531)
            PsiElement({)('{')(855,856)
            PsiWhiteSpace('\n\n            ')(856,870)
            PsiComment(LINE_COMMENT)('//Extract message from the request.')(870,905)
            PsiWhiteSpace('\n           ')(905,917)
            BLOCK(917,1522)
              STATEMENT(917,963)
                VARIABLE_DEFINITION_STATEMENT(917,963)
                  SIMPLE_TYPE_NAME(917,921)
                    REFERENCE_TYPE_NAME(917,921)
                      BUILT_IN_REFERENCE_TYPE_NAME(917,921)
                        JSON_TYPE_NAME(917,921)
                          PsiElement(json)('json')(917,921)
                  PsiWhiteSpace(' ')(921,922)
                  PsiElement(identifier)('message')(922,929)
                  PsiWhiteSpace(' ')(929,930)
                  PsiElement(=)('=')(930,931)
                  PsiWhiteSpace(' ')(931,932)
                  CHECKED_EXPRESSION(932,962)
                    PsiElement(check)('check')(932,937)
                    PsiWhiteSpace(' ')(937,938)
                    VARIABLE_REFERENCE_EXPRESSION(938,962)
                      INVOCATION_REFERENCE(938,962)
                        SIMPLE_VARIABLE_REFERENCE(938,945)
                          NAME_REFERENCE(938,945)
                            PsiElement(identifier)('request')(938,945)
                        INVOCATION(945,962)
                          PsiElement(.)('.')(945,946)
                          ANY_IDENTIFIER_NAME(946,960)
                            PsiElement(identifier)('getJsonPayload')(946,960)
                          PsiElement(()('(')(960,961)
                          PsiElement())(')')(961,962)
                  PsiElement(;)(';')(962,963)
              PsiWhiteSpace('\n           ')(963,975)
              PsiComment(LINE_COMMENT)('//Define the same key as the receiver's key.')(975,1019)
              PsiWhiteSpace('\n           ')(1019,1031)
              STATEMENT(1031,1050)
                VARIABLE_DEFINITION_STATEMENT(1031,1050)
                  SIMPLE_TYPE_NAME(1031,1037)
                    VALUE_TYPE_NAME(1031,1037)
                      PsiElement(string)('string')(1031,1037)
                  PsiWhiteSpace(' ')(1037,1038)
                  PsiElement(identifier)('key')(1038,1041)
                  PsiWhiteSpace(' ')(1041,1042)
                  PsiElement(=)('=')(1042,1043)
                  PsiWhiteSpace(' ')(1043,1044)
                  SIMPLE_LITERAL_EXPRESSION(1044,1049)
                    SIMPLE_LITERAL(1044,1049)
                      PsiElement(QUOTED_STRING_LITERAL)('"123"')(1044,1049)
                  PsiElement(;)(';')(1049,1050)
              PsiWhiteSpace('\n\n           ')(1050,1063)
              PsiComment(LINE_COMMENT)('//Send a message to the channel.')(1063,1095)
              PsiWhiteSpace('\n           ')(1095,1107)
              PsiComment(LINE_COMMENT)('//One of the receivers waiting on this key receives it.')(1107,1162)
              PsiWhiteSpace('\n           ')(1162,1174)
              PsiComment(LINE_COMMENT)('//If there is no receiver, the message is stored and execution continues.')(1174,1247)
              PsiWhiteSpace('\n           ')(1247,1259)
              PsiComment(LINE_COMMENT)('//A receiver can arrive later and fetch the message.')(1259,1311)
              PsiWhiteSpace('\n           ')(1311,1323)
              STATEMENT(1323,1351)
                WORKER_INTERACTION_STATEMENT(1323,1351)
                  TRIGGER_WORKER(1323,1351)
                    VARIABLE_REFERENCE_EXPRESSION(1323,1330)
                      SIMPLE_VARIABLE_REFERENCE(1323,1330)
                        NAME_REFERENCE(1323,1330)
                          PsiElement(identifier)('message')(1323,1330)
                    PsiWhiteSpace(' ')(1330,1331)
                    PsiElement(->)('->')(1331,1333)
                    PsiWhiteSpace(' ')(1333,1334)
                    PsiElement(identifier)('jsonChannel')(1334,1345)
                    PsiElement(,)(',')(1345,1346)
                    PsiWhiteSpace(' ')(1346,1347)
                    VARIABLE_REFERENCE_EXPRESSION(1347,1350)
                      SIMPLE_VARIABLE_REFERENCE(1347,1350)
                        NAME_REFERENCE(1347,1350)
                          PsiElement(identifier)('key')(1347,1350)
                    PsiElement(;)(';')(1350,1351)
              PsiWhiteSpace('\n\n            ')(1351,1365)
              STATEMENT(1365,1522)
                ASSIGNMENT_STATEMENT(1365,1522)
                  SIMPLE_VARIABLE_REFERENCE(1365,1366)
                    NAME_REFERENCE(1365,1366)
                      PsiElement(identifier)('_')(1365,1366)
                  PsiWhiteSpace(' ')(1366,1367)
                  PsiElement(=)('=')(1367,1368)
                  PsiWhiteSpace(' ')(1368,1369)
                  MATCH_EXPR_EXPRESSION(1369,1521)
                    ACTION_INVOCATION_EXPRESSION(1369,1406)
                      ACTION_INVOCATION(1369,1406)
                        NAME_REFERENCE(1369,1375)
                          PsiElement(identifier)('caller')(1369,1375)
                        PsiElement(->)('->')(1375,1377)
                        FUNCTION_INVOCATION(1377,1406)
                          FUNCTION_NAME_REFERENCE(1377,1384)
                            ANY_IDENTIFIER_NAME(1377,1384)
                              PsiElement(identifier)('respond')(1377,1384)
                          PsiElement(()('(')(1384,1385)
                          INVOCATION_ARG_LIST(1385,1405)
                            INVOCATION_ARG(1385,1405)
                              RECORD_LITERAL_EXPRESSION(1385,1405)
                                RECORD_LITERAL(1385,1405)
                                  PsiElement({)('{')(1385,1386)
                                  RECORD_LITERAL_BODY(1386,1404)
                                    RECORD_KEY_VALUE(1386,1404)
                                      RECORD_KEY(1386,1392)
                                        SIMPLE_LITERAL_EXPRESSION(1386,1392)
                                          SIMPLE_LITERAL(1386,1392)
                                            PsiElement(QUOTED_STRING_LITERAL)('"send"')(1386,1392)
                                      PsiElement(:)(':')(1392,1393)
                                      SIMPLE_LITERAL_EXPRESSION(1393,1404)
                                        SIMPLE_LITERAL(1393,1404)
                                          PsiElement(QUOTED_STRING_LITERAL)('"Success!!"')(1393,1404)
                                  PsiElement(})('}')(1404,1405)
                          PsiElement())(')')(1405,1406)
                    PsiWhiteSpace(' ')(1406,1407)
                    MATCH_EXPRESSION(1407,1521)
                      PsiElement(but)('but')(1407,1410)
                      PsiWhiteSpace(' ')(1410,1411)
                      PsiElement({)('{')(1411,1412)
                      PsiWhiteSpace(' ')(1412,1413)
                      MATCH_EXPRESSION_PATTERN_CLAUSE(1413,1519)
                        SIMPLE_TYPE_NAME(1413,1418)
                          REFERENCE_TYPE_NAME(1413,1418)
                            USER_DEFINE_TYPE_NAME(1413,1418)
                              NAME_REFERENCE(1413,1418)
                                PsiElement(identifier)('error')(1413,1418)
                        PsiWhiteSpace(' ')(1418,1419)
                        PsiElement(identifier)('e')(1419,1420)
                        PsiWhiteSpace(' ')(1420,1421)
                        PsiElement(=>)('=>')(1421,1423)
                        PsiWhiteSpace(' ')(1423,1424)
                        VARIABLE_REFERENCE_EXPRESSION(1424,1519)
                          FUNCTION_INVOCATION_REFERENCE(1424,1519)
                            FUNCTION_INVOCATION(1424,1519)
                              FUNCTION_NAME_REFERENCE(1424,1438)
                                PACKAGE_REFERENCE(1424,1428)
                                  PsiElement(identifier)('log')(1424,1427)
                                  PsiElement(:)(':')(1427,1428)
                                ANY_IDENTIFIER_NAME(1428,1438)
                                  PsiElement(identifier)('printError')(1428,1438)
                              PsiElement(()('(')(1438,1439)
                              PsiWhiteSpace('\n                                             ')(1439,1485)
                              INVOCATION_ARG_LIST(1485,1518)
                                INVOCATION_ARG(1485,1509)
                                  SIMPLE_LITERAL_EXPRESSION(1485,1509)
                                    SIMPLE_LITERAL(1485,1509)
                                      PsiElement(QUOTED_STRING_LITERAL)('"Error sending response"')(1485,1509)
                                PsiElement(,)(',')(1509,1510)
                                PsiWhiteSpace(' ')(1510,1511)
                                INVOCATION_ARG(1511,1518)
                                  NAMED_ARGS(1511,1518)
                                    PsiElement(identifier)('err')(1511,1514)
                                    PsiWhiteSpace(' ')(1514,1515)
                                    PsiElement(=)('=')(1515,1516)
                                    PsiWhiteSpace(' ')(1516,1517)
                                    VARIABLE_REFERENCE_EXPRESSION(1517,1518)
                                      SIMPLE_VARIABLE_REFERENCE(1517,1518)
                                        NAME_REFERENCE(1517,1518)
                                          PsiElement(identifier)('e')(1517,1518)
                              PsiElement())(')')(1518,1519)
                      PsiWhiteSpace(' ')(1519,1520)
                      PsiElement(})('}')(1520,1521)
                  PsiElement(;)(';')(1521,1522)
            PsiWhiteSpace('\n       ')(1522,1530)
            PsiElement(})('}')(1530,1531)
        PsiWhiteSpace('\n')(1531,1532)
        PsiElement(})('}')(1532,1533)