Ballerina File(0,4700)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,43)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,42)
      PACKAGE_NAME(40,42)
        PsiElement(identifier)('io')(40,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n\n')(43,45)
  DEFINITION(45,112)
    TYPE_DEFINITION(45,112)
      PsiElement(type)('type')(45,49)
      PsiWhiteSpace(' ')(49,50)
      PsiElement(identifier)('ProductMaterial')(50,65)
      PsiWhiteSpace(' ')(65,66)
      FINITE_TYPE(66,111)
        FINITE_TYPE_UNIT(66,111)
          RECORD_TYPE_NAME(66,111)
            PsiElement(record)('record')(66,72)
            PsiWhiteSpace(' ')(72,73)
            PsiElement({)('{')(73,74)
            PsiWhiteSpace('\n    ')(74,79)
            RECORD_FIELD_DEFINITION_LIST(79,109)
              FIELD_DEFINITION(79,91)
                SIMPLE_TYPE_NAME(79,85)
                  VALUE_TYPE_NAME(79,85)
                    PsiElement(string)('string')(79,85)
                PsiWhiteSpace(' ')(85,86)
                PsiElement(identifier)('name')(86,90)
                PsiElement(;)(';')(90,91)
              PsiWhiteSpace('\n    ')(91,96)
              FIELD_DEFINITION(96,109)
                SIMPLE_TYPE_NAME(96,101)
                  VALUE_TYPE_NAME(96,101)
                    PsiElement(float)('float')(96,101)
                PsiWhiteSpace(' ')(101,102)
                PsiElement(identifier)('amount')(102,108)
                PsiElement(;)(';')(108,109)
            PsiWhiteSpace('\n')(109,110)
            PsiElement(})('}')(110,111)
      PsiElement(;)(';')(111,112)
  PsiWhiteSpace('\n\n')(112,114)
  DEFINITION(114,217)
    TYPE_DEFINITION(114,217)
      PsiElement(type)('type')(114,118)
      PsiWhiteSpace(' ')(118,119)
      PsiElement(identifier)('MaterialUsage')(119,132)
      PsiWhiteSpace(' ')(132,133)
      FINITE_TYPE(133,216)
        FINITE_TYPE_UNIT(133,216)
          RECORD_TYPE_NAME(133,216)
            PsiElement(record)('record')(133,139)
            PsiWhiteSpace(' ')(139,140)
            PsiElement({)('{')(140,141)
            PsiWhiteSpace('\n    ')(141,146)
            RECORD_FIELD_DEFINITION_LIST(146,214)
              FIELD_DEFINITION(146,158)
                SIMPLE_TYPE_NAME(146,152)
                  VALUE_TYPE_NAME(146,152)
                    PsiElement(string)('string')(146,152)
                PsiWhiteSpace(' ')(152,153)
                PsiElement(identifier)('name')(153,157)
                PsiElement(;)(';')(157,158)
              PsiWhiteSpace('\n    ')(158,163)
              FIELD_DEFINITION(163,186)
                SIMPLE_TYPE_NAME(163,168)
                  VALUE_TYPE_NAME(163,168)
                    PsiElement(float)('float')(163,168)
                PsiWhiteSpace(' ')(168,169)
                PsiElement(identifier)('totalRawMaterial')(169,185)
                PsiElement(;)(';')(185,186)
              PsiWhiteSpace('\n    ')(186,191)
              FIELD_DEFINITION(191,214)
                SIMPLE_TYPE_NAME(191,196)
                  VALUE_TYPE_NAME(191,196)
                    PsiElement(float)('float')(191,196)
                PsiWhiteSpace(' ')(196,197)
                PsiElement(identifier)('totalConsumption')(197,213)
                PsiElement(;)(';')(213,214)
            PsiWhiteSpace('\n')(214,215)
            PsiElement(})('}')(215,216)
      PsiElement(;)(';')(216,217)
  PsiWhiteSpace('\n\n')(217,219)
  PsiComment(LINE_COMMENT)('// These are the input streams that use `ProductMaterial` as the constraint type.')(219,300)
  PsiWhiteSpace('\n')(300,301)
  DEFINITION(301,343)
    GLOBAL_VARIABLE(301,343)
      GLOBAL_VARIABLE_DEFINITION(301,343)
        SIMPLE_TYPE_NAME(301,324)
          REFERENCE_TYPE_NAME(301,324)
            BUILT_IN_REFERENCE_TYPE_NAME(301,324)
              STREAM_TYPE_NAME(301,324)
                PsiElement(stream)('stream')(301,307)
                PsiElement(<)('<')(307,308)
                SIMPLE_TYPE_NAME(308,323)
                  REFERENCE_TYPE_NAME(308,323)
                    USER_DEFINE_TYPE_NAME(308,323)
                      NAME_REFERENCE(308,323)
                        PsiElement(identifier)('ProductMaterial')(308,323)
                PsiElement(>)('>')(323,324)
        PsiWhiteSpace(' ')(324,325)
        PsiElement(identifier)('rawMaterialStream')(325,342)
        PsiElement(;)(';')(342,343)
  PsiWhiteSpace('\n')(343,344)
  DEFINITION(344,390)
    GLOBAL_VARIABLE(344,390)
      GLOBAL_VARIABLE_DEFINITION(344,390)
        SIMPLE_TYPE_NAME(344,367)
          REFERENCE_TYPE_NAME(344,367)
            BUILT_IN_REFERENCE_TYPE_NAME(344,367)
              STREAM_TYPE_NAME(344,367)
                PsiElement(stream)('stream')(344,350)
                PsiElement(<)('<')(350,351)
                SIMPLE_TYPE_NAME(351,366)
                  REFERENCE_TYPE_NAME(351,366)
                    USER_DEFINE_TYPE_NAME(351,366)
                      NAME_REFERENCE(351,366)
                        PsiElement(identifier)('ProductMaterial')(351,366)
                PsiElement(>)('>')(366,367)
        PsiWhiteSpace(' ')(367,368)
        PsiElement(identifier)('productionInputStream')(368,389)
        PsiElement(;)(';')(389,390)
  PsiWhiteSpace('\n\n')(390,392)
  PsiComment(LINE_COMMENT)('// This is the output stream that contains the events/alerts that are generated based on streaming logic.')(392,497)
  PsiWhiteSpace('\n')(497,498)
  DEFINITION(498,540)
    GLOBAL_VARIABLE(498,540)
      GLOBAL_VARIABLE_DEFINITION(498,540)
        SIMPLE_TYPE_NAME(498,519)
          REFERENCE_TYPE_NAME(498,519)
            BUILT_IN_REFERENCE_TYPE_NAME(498,519)
              STREAM_TYPE_NAME(498,519)
                PsiElement(stream)('stream')(498,504)
                PsiElement(<)('<')(504,505)
                SIMPLE_TYPE_NAME(505,518)
                  REFERENCE_TYPE_NAME(505,518)
                    USER_DEFINE_TYPE_NAME(505,518)
                      NAME_REFERENCE(505,518)
                        PsiElement(identifier)('MaterialUsage')(505,518)
                PsiElement(>)('>')(518,519)
        PsiWhiteSpace(' ')(519,520)
        PsiElement(identifier)('materialUsageStream')(520,539)
        PsiElement(;)(';')(539,540)
  PsiWhiteSpace('\n\n')(540,542)
  DEFINITION(542,2106)
    FUNCTION_DEFINITION(542,2106)
      PsiElement(function)('function')(542,550)
      PsiWhiteSpace(' ')(550,551)
      CALLABLE_UNIT_SIGNATURE(551,580)
        ANY_IDENTIFIER_NAME(551,578)
          PsiElement(identifier)('initRealtimeProductionAlert')(551,578)
        PsiElement(()('(')(578,579)
        PsiElement())(')')(579,580)
      PsiWhiteSpace(' ')(580,581)
      CALLABLE_UNIT_BODY(581,2106)
        PsiElement({)('{')(581,582)
        PsiWhiteSpace('\n\n    ')(582,588)
        PsiComment(LINE_COMMENT)('// Whenever the `materialUsageStream` stream receives an event from the streaming rules defined in the `forever`')(588,700)
        PsiWhiteSpace('\n    ')(700,705)
        PsiComment(LINE_COMMENT)('// block, the `printMaterialUsageAlert` function is invoked.')(705,765)
        PsiWhiteSpace('\n    ')(765,770)
        BLOCK(770,2104)
          STATEMENT(770,825)
            EXPRESSION_STMT(770,825)
              VARIABLE_REFERENCE_EXPRESSION(770,824)
                INVOCATION_REFERENCE(770,824)
                  SIMPLE_VARIABLE_REFERENCE(770,789)
                    NAME_REFERENCE(770,789)
                      PsiElement(identifier)('materialUsageStream')(770,789)
                  INVOCATION(789,824)
                    PsiElement(.)('.')(789,790)
                    ANY_IDENTIFIER_NAME(790,799)
                      PsiElement(identifier)('subscribe')(790,799)
                    PsiElement(()('(')(799,800)
                    INVOCATION_ARG_LIST(800,823)
                      INVOCATION_ARG(800,823)
                        VARIABLE_REFERENCE_EXPRESSION(800,823)
                          SIMPLE_VARIABLE_REFERENCE(800,823)
                            NAME_REFERENCE(800,823)
                              PsiElement(identifier)('printMaterialUsageAlert')(800,823)
                    PsiElement())(')')(823,824)
              PsiElement(;)(';')(824,825)
          PsiWhiteSpace('\n\n\n    ')(825,832)
          PsiComment(LINE_COMMENT)('// Gather events related to raw materials through the `rawMaterialStream` stream and production related events')(832,942)
          PsiWhiteSpace('\n    ')(942,947)
          PsiComment(LINE_COMMENT)('// through the `productionInputStream`. The raw materials usage and production outcome for the last')(947,1046)
          PsiWhiteSpace('\n    ')(1046,1051)
          PsiComment(LINE_COMMENT)('// 10 seconds are calculated and an alert is triggered if the raw material usage is 5% higher than the')(1051,1153)
          PsiWhiteSpace('\n    ')(1153,1158)
          PsiComment(LINE_COMMENT)('// production outcome. This `forever` block is executed once, when initializing the service. The processing happens')(1158,1273)
          PsiWhiteSpace('\n    ')(1273,1278)
          PsiComment(LINE_COMMENT)('// asynchronously each time the `requestStream` or `productionInputStream` receives an event.')(1278,1371)
          PsiWhiteSpace('\n    ')(1371,1376)
          STATEMENT(1376,2104)
            FOREVER_STATEMENT(1376,2104)
              PsiElement(forever)('forever')(1376,1383)
              PsiWhiteSpace(' ')(1383,1384)
              PsiElement({)('{')(1384,1385)
              PsiWhiteSpace('\n        ')(1385,1394)
              FOREVER_STATEMENT_BODY(1394,2098)
                STREAMING_QUERY_STATEMENT(1394,2098)
                  PsiElement(from)('from')(1394,1398)
                  PsiWhiteSpace(' ')(1398,1399)
                  STREAMING_INPUT(1399,1444)
                    VARIABLE_REFERENCE_EXPRESSION(1399,1420)
                      SIMPLE_VARIABLE_REFERENCE(1399,1420)
                        NAME_REFERENCE(1399,1420)
                          PsiElement(identifier)('productionInputStream')(1399,1420)
                    PsiWhiteSpace(' ')(1420,1421)
                    WINDOW_CLAUSE(1421,1439)
                      PsiElement(window)('window')(1421,1427)
                      PsiWhiteSpace(' ')(1427,1428)
                      FUNCTION_INVOCATION(1428,1439)
                        FUNCTION_NAME_REFERENCE(1428,1432)
                          ANY_IDENTIFIER_NAME(1428,1432)
                            PsiElement(identifier)('time')(1428,1432)
                        PsiElement(()('(')(1432,1433)
                        INVOCATION_ARG_LIST(1433,1438)
                          INVOCATION_ARG(1433,1438)
                            SIMPLE_LITERAL_EXPRESSION(1433,1438)
                              SIMPLE_LITERAL(1433,1438)
                                INTEGER_LITERAL(1433,1438)
                                  PsiElement(DECIMAL_INTEGER_LITERAL)('10000')(1433,1438)
                        PsiElement())(')')(1438,1439)
                    PsiWhiteSpace(' ')(1439,1440)
                    PsiElement(as)('as')(1440,1442)
                    PsiWhiteSpace(' ')(1442,1443)
                    PsiElement(identifier)('p')(1443,1444)
                  PsiWhiteSpace('\n        ')(1444,1453)
                  JOIN_STREAMING_INPUT(1453,1527)
                    JOIN_TYPE(1453,1457)
                      PsiElement(join)('join')(1453,1457)
                    PsiWhiteSpace(' ')(1457,1458)
                    STREAMING_INPUT(1458,1499)
                      VARIABLE_REFERENCE_EXPRESSION(1458,1475)
                        SIMPLE_VARIABLE_REFERENCE(1458,1475)
                          NAME_REFERENCE(1458,1475)
                            PsiElement(identifier)('rawMaterialStream')(1458,1475)
                      PsiWhiteSpace(' ')(1475,1476)
                      WINDOW_CLAUSE(1476,1494)
                        PsiElement(window)('window')(1476,1482)
                        PsiWhiteSpace(' ')(1482,1483)
                        FUNCTION_INVOCATION(1483,1494)
                          FUNCTION_NAME_REFERENCE(1483,1487)
                            ANY_IDENTIFIER_NAME(1483,1487)
                              PsiElement(identifier)('time')(1483,1487)
                          PsiElement(()('(')(1487,1488)
                          INVOCATION_ARG_LIST(1488,1493)
                            INVOCATION_ARG(1488,1493)
                              SIMPLE_LITERAL_EXPRESSION(1488,1493)
                                SIMPLE_LITERAL(1488,1493)
                                  INTEGER_LITERAL(1488,1493)
                                    PsiElement(DECIMAL_INTEGER_LITERAL)('10000')(1488,1493)
                          PsiElement())(')')(1493,1494)
                      PsiWhiteSpace(' ')(1494,1495)
                      PsiElement(as)('as')(1495,1497)
                      PsiWhiteSpace(' ')(1497,1498)
                      PsiElement(identifier)('r')(1498,1499)
                    PsiWhiteSpace('\n        ')(1499,1508)
                    PsiElement(on)('on')(1508,1510)
                    PsiWhiteSpace(' ')(1510,1511)
                    BINARY_EQUAL_EXPRESSION(1511,1527)
                      VARIABLE_REFERENCE_EXPRESSION(1511,1517)
                        FIELD_VARIABLE_REFERENCE(1511,1517)
                          SIMPLE_VARIABLE_REFERENCE(1511,1512)
                            NAME_REFERENCE(1511,1512)
                              PsiElement(identifier)('r')(1511,1512)
                          FIELD(1512,1517)
                            PsiElement(.)('.')(1512,1513)
                            PsiElement(identifier)('name')(1513,1517)
                      PsiWhiteSpace(' ')(1517,1518)
                      PsiElement(==)('==')(1518,1520)
                      PsiWhiteSpace(' ')(1520,1521)
                      VARIABLE_REFERENCE_EXPRESSION(1521,1527)
                        FIELD_VARIABLE_REFERENCE(1521,1527)
                          SIMPLE_VARIABLE_REFERENCE(1521,1522)
                            NAME_REFERENCE(1521,1522)
                              PsiElement(identifier)('p')(1521,1522)
                          FIELD(1522,1527)
                            PsiElement(.)('.')(1522,1523)
                            PsiElement(identifier)('name')(1523,1527)
                  PsiWhiteSpace('\n        ')(1527,1536)
                  SELECT_CLAUSE(1536,1761)
                    PsiElement(select)('select')(1536,1542)
                    PsiWhiteSpace(' ')(1542,1543)
                    SELECT_EXPRESSION_LIST(1543,1635)
                      SELECT_EXPRESSION(1543,1549)
                        VARIABLE_REFERENCE_EXPRESSION(1543,1549)
                          FIELD_VARIABLE_REFERENCE(1543,1549)
                            SIMPLE_VARIABLE_REFERENCE(1543,1544)
                              NAME_REFERENCE(1543,1544)
                                PsiElement(identifier)('r')(1543,1544)
                            FIELD(1544,1549)
                              PsiElement(.)('.')(1544,1545)
                              PsiElement(identifier)('name')(1545,1549)
                      PsiElement(,)(',')(1549,1550)
                      PsiWhiteSpace(' ')(1550,1551)
                      SELECT_EXPRESSION(1551,1584)
                        VARIABLE_REFERENCE_EXPRESSION(1551,1564)
                          FUNCTION_INVOCATION_REFERENCE(1551,1564)
                            FUNCTION_INVOCATION(1551,1564)
                              FUNCTION_NAME_REFERENCE(1551,1554)
                                ANY_IDENTIFIER_NAME(1551,1554)
                                  PsiElement(identifier)('sum')(1551,1554)
                              PsiElement(()('(')(1554,1555)
                              INVOCATION_ARG_LIST(1555,1563)
                                INVOCATION_ARG(1555,1563)
                                  VARIABLE_REFERENCE_EXPRESSION(1555,1563)
                                    FIELD_VARIABLE_REFERENCE(1555,1563)
                                      SIMPLE_VARIABLE_REFERENCE(1555,1556)
                                        NAME_REFERENCE(1555,1556)
                                          PsiElement(identifier)('r')(1555,1556)
                                      FIELD(1556,1563)
                                        PsiElement(.)('.')(1556,1557)
                                        PsiElement(identifier)('amount')(1557,1563)
                              PsiElement())(')')(1563,1564)
                        PsiWhiteSpace(' ')(1564,1565)
                        PsiElement(as)('as')(1565,1567)
                        PsiWhiteSpace(' ')(1567,1568)
                        PsiElement(identifier)('totalRawMaterial')(1568,1584)
                      PsiElement(,)(',')(1584,1585)
                      PsiWhiteSpace('\n                ')(1585,1602)
                      SELECT_EXPRESSION(1602,1635)
                        VARIABLE_REFERENCE_EXPRESSION(1602,1615)
                          FUNCTION_INVOCATION_REFERENCE(1602,1615)
                            FUNCTION_INVOCATION(1602,1615)
                              FUNCTION_NAME_REFERENCE(1602,1605)
                                ANY_IDENTIFIER_NAME(1602,1605)
                                  PsiElement(identifier)('sum')(1602,1605)
                              PsiElement(()('(')(1605,1606)
                              INVOCATION_ARG_LIST(1606,1614)
                                INVOCATION_ARG(1606,1614)
                                  VARIABLE_REFERENCE_EXPRESSION(1606,1614)
                                    FIELD_VARIABLE_REFERENCE(1606,1614)
                                      SIMPLE_VARIABLE_REFERENCE(1606,1607)
                                        NAME_REFERENCE(1606,1607)
                                          PsiElement(identifier)('p')(1606,1607)
                                      FIELD(1607,1614)
                                        PsiElement(.)('.')(1607,1608)
                                        PsiElement(identifier)('amount')(1608,1614)
                              PsiElement())(')')(1614,1615)
                        PsiWhiteSpace(' ')(1615,1616)
                        PsiElement(as)('as')(1616,1618)
                        PsiWhiteSpace(' ')(1618,1619)
                        PsiElement(identifier)('totalConsumption')(1619,1635)
                    PsiWhiteSpace('\n        ')(1635,1644)
                    GROUP_BY_CLAUSE(1644,1659)
                      PsiElement(group)('group')(1644,1649)
                      PsiWhiteSpace(' ')(1649,1650)
                      PsiElement(by)('by')(1650,1652)
                      PsiWhiteSpace(' ')(1652,1653)
                      VARIABLE_REFERENCE_LIST(1653,1659)
                        FIELD_VARIABLE_REFERENCE(1653,1659)
                          SIMPLE_VARIABLE_REFERENCE(1653,1654)
                            NAME_REFERENCE(1653,1654)
                              PsiElement(identifier)('r')(1653,1654)
                          FIELD(1654,1659)
                            PsiElement(.)('.')(1654,1655)
                            PsiElement(identifier)('name')(1655,1659)
                    PsiWhiteSpace('\n        ')(1659,1668)
                    HAVING_CLAUSE(1668,1761)
                      PsiElement(having)('having')(1668,1674)
                      PsiWhiteSpace(' ')(1674,1675)
                      BINARY_COMPARE_EXPRESSION(1675,1761)
                        BRACED_OR_TUPLE_EXPRESSION(1675,1757)
                          PsiElement(()('(')(1675,1676)
                          BINARY_DIV_MUL_MOD_EXPRESSION(1676,1756)
                            BINARY_DIV_MUL_MOD_EXPRESSION(1676,1721)
                              BRACED_OR_TUPLE_EXPRESSION(1676,1713)
                                PsiElement(()('(')(1676,1677)
                                BINARY_ADD_SUB_EXPRESSION(1677,1712)
                                  VARIABLE_REFERENCE_EXPRESSION(1677,1693)
                                    SIMPLE_VARIABLE_REFERENCE(1677,1693)
                                      NAME_REFERENCE(1677,1693)
                                        PsiElement(identifier)('totalRawMaterial')(1677,1693)
                                  PsiWhiteSpace(' ')(1693,1694)
                                  PsiElement(-)('-')(1694,1695)
                                  PsiWhiteSpace(' ')(1695,1696)
                                  VARIABLE_REFERENCE_EXPRESSION(1696,1712)
                                    SIMPLE_VARIABLE_REFERENCE(1696,1712)
                                      NAME_REFERENCE(1696,1712)
                                        PsiElement(identifier)('totalConsumption')(1696,1712)
                                PsiElement())(')')(1712,1713)
                              PsiWhiteSpace(' ')(1713,1714)
                              PsiElement(*)('*')(1714,1715)
                              PsiWhiteSpace(' ')(1715,1716)
                              SIMPLE_LITERAL_EXPRESSION(1716,1721)
                                SIMPLE_LITERAL(1716,1721)
                                  FLOATING_POINT_LITERAL(1716,1721)
                                    PsiElement(DECIMAL_FLOATING_POINT_NUMBER)('100.0')(1716,1721)
                            PsiWhiteSpace(' ')(1721,1722)
                            PsiElement(/)('/')(1722,1723)
                            PsiWhiteSpace('\n                ')(1723,1740)
                            VARIABLE_REFERENCE_EXPRESSION(1740,1756)
                              SIMPLE_VARIABLE_REFERENCE(1740,1756)
                                NAME_REFERENCE(1740,1756)
                                  PsiElement(identifier)('totalRawMaterial')(1740,1756)
                          PsiElement())(')')(1756,1757)
                        PsiWhiteSpace(' ')(1757,1758)
                        PsiElement(>)('>')(1758,1759)
                        PsiWhiteSpace(' ')(1759,1760)
                        SIMPLE_LITERAL_EXPRESSION(1760,1761)
                          SIMPLE_LITERAL(1760,1761)
                            INTEGER_LITERAL(1760,1761)
                              PsiElement(DECIMAL_INTEGER_LITERAL)('5')(1760,1761)
                  PsiWhiteSpace('\n        ')(1761,1770)
                  STREAMING_ACTION(1770,2098)
                    PsiElement(=>)('=>')(1770,1772)
                    PsiWhiteSpace(' ')(1772,1773)
                    PsiElement(()('(')(1773,1774)
                    PARAMETER(1774,1804)
                      PARAMETER_WITH_TYPE(1774,1804)
                        ARRAY_TYPE_NAME(1774,1789)
                          SIMPLE_TYPE_NAME(1774,1787)
                            REFERENCE_TYPE_NAME(1774,1787)
                              USER_DEFINE_TYPE_NAME(1774,1787)
                                NAME_REFERENCE(1774,1787)
                                  PsiElement(identifier)('MaterialUsage')(1774,1787)
                          PsiElement([)('[')(1787,1788)
                          PsiElement(])(']')(1788,1789)
                        PsiWhiteSpace(' ')(1789,1790)
                        PsiElement(identifier)('materialUsages')(1790,1804)
                    PsiElement())(')')(1804,1805)
                    PsiWhiteSpace(' ')(1805,1806)
                    PsiElement({)('{')(1806,1807)
                    PsiWhiteSpace('\n        ')(1807,1816)
                    PsiComment(LINE_COMMENT)('// `materialUsages` is the output that matches the defined streaming rules. It is published to the `materialUsageStream` stream.')(1816,1944)
                    PsiWhiteSpace('\n        ')(1944,1953)
                    PsiComment(LINE_COMMENT)('// The selected clause should match the structure of the `MaterialUsage` type.')(1953,2031)
                    PsiWhiteSpace('\n            ')(2031,2044)
                    BLOCK(2044,2088)
                      STATEMENT(2044,2088)
                        EXPRESSION_STMT(2044,2088)
                          VARIABLE_REFERENCE_EXPRESSION(2044,2087)
                            INVOCATION_REFERENCE(2044,2087)
                              SIMPLE_VARIABLE_REFERENCE(2044,2063)
                                NAME_REFERENCE(2044,2063)
                                  PsiElement(identifier)('materialUsageStream')(2044,2063)
                              INVOCATION(2063,2087)
                                PsiElement(.)('.')(2063,2064)
                                ANY_IDENTIFIER_NAME(2064,2071)
                                  PsiElement(identifier)('publish')(2064,2071)
                                PsiElement(()('(')(2071,2072)
                                INVOCATION_ARG_LIST(2072,2086)
                                  INVOCATION_ARG(2072,2086)
                                    VARIABLE_REFERENCE_EXPRESSION(2072,2086)
                                      SIMPLE_VARIABLE_REFERENCE(2072,2086)
                                        NAME_REFERENCE(2072,2086)
                                          PsiElement(identifier)('materialUsages')(2072,2086)
                                PsiElement())(')')(2086,2087)
                          PsiElement(;)(';')(2087,2088)
                    PsiWhiteSpace('\n        ')(2088,2097)
                    PsiElement(})('}')(2097,2098)
              PsiWhiteSpace('\n    ')(2098,2103)
              PsiElement(})('}')(2103,2104)
        PsiWhiteSpace('\n')(2104,2105)
        PsiElement(})('}')(2105,2106)
  PsiWhiteSpace('\n\n')(2106,2108)
  DEFINITION(2108,2550)
    FUNCTION_DEFINITION(2108,2550)
      PsiElement(function)('function')(2108,2116)
      PsiWhiteSpace(' ')(2116,2117)
      CALLABLE_UNIT_SIGNATURE(2117,2169)
        ANY_IDENTIFIER_NAME(2117,2140)
          PsiElement(identifier)('printMaterialUsageAlert')(2117,2140)
        PsiElement(()('(')(2140,2141)
        FORMAL_PARAMETER_LIST(2141,2168)
          PARAMETER(2141,2168)
            PARAMETER_WITH_TYPE(2141,2168)
              SIMPLE_TYPE_NAME(2141,2154)
                REFERENCE_TYPE_NAME(2141,2154)
                  USER_DEFINE_TYPE_NAME(2141,2154)
                    NAME_REFERENCE(2141,2154)
                      PsiElement(identifier)('MaterialUsage')(2141,2154)
              PsiWhiteSpace(' ')(2154,2155)
              PsiElement(identifier)('materialUsage')(2155,2168)
        PsiElement())(')')(2168,2169)
      PsiWhiteSpace(' ')(2169,2170)
      CALLABLE_UNIT_BODY(2170,2550)
        PsiElement({)('{')(2170,2171)
        PsiWhiteSpace('\n\n    ')(2171,2177)
        BLOCK(2177,2548)
          STATEMENT(2177,2346)
            VARIABLE_DEFINITION_STATEMENT(2177,2346)
              SIMPLE_TYPE_NAME(2177,2182)
                VALUE_TYPE_NAME(2177,2182)
                  PsiElement(float)('float')(2177,2182)
              PsiWhiteSpace(' ')(2182,2183)
              PsiElement(identifier)('materialUsageDifference')(2183,2206)
              PsiWhiteSpace(' ')(2206,2207)
              PsiElement(=)('=')(2207,2208)
              PsiWhiteSpace(' ')(2208,2209)
              BINARY_DIV_MUL_MOD_EXPRESSION(2209,2345)
                BINARY_DIV_MUL_MOD_EXPRESSION(2209,2294)
                  BRACED_OR_TUPLE_EXPRESSION(2209,2286)
                    PsiElement(()('(')(2209,2210)
                    BINARY_ADD_SUB_EXPRESSION(2210,2285)
                      VARIABLE_REFERENCE_EXPRESSION(2210,2240)
                        FIELD_VARIABLE_REFERENCE(2210,2240)
                          SIMPLE_VARIABLE_REFERENCE(2210,2223)
                            NAME_REFERENCE(2210,2223)
                              PsiElement(identifier)('materialUsage')(2210,2223)
                          FIELD(2223,2240)
                            PsiElement(.)('.')(2223,2224)
                            PsiElement(identifier)('totalRawMaterial')(2224,2240)
                      PsiWhiteSpace(' ')(2240,2241)
                      PsiElement(-)('-')(2241,2242)
                      PsiWhiteSpace('\n            ')(2242,2255)
                      VARIABLE_REFERENCE_EXPRESSION(2255,2285)
                        FIELD_VARIABLE_REFERENCE(2255,2285)
                          SIMPLE_VARIABLE_REFERENCE(2255,2268)
                            NAME_REFERENCE(2255,2268)
                              PsiElement(identifier)('materialUsage')(2255,2268)
                          FIELD(2268,2285)
                            PsiElement(.)('.')(2268,2269)
                            PsiElement(identifier)('totalConsumption')(2269,2285)
                    PsiElement())(')')(2285,2286)
                  PsiWhiteSpace(' ')(2286,2287)
                  PsiElement(*)('*')(2287,2288)
                  PsiWhiteSpace(' ')(2288,2289)
                  SIMPLE_LITERAL_EXPRESSION(2289,2294)
                    SIMPLE_LITERAL(2289,2294)
                      FLOATING_POINT_LITERAL(2289,2294)
                        PsiElement(DECIMAL_FLOATING_POINT_NUMBER)('100.0')(2289,2294)
                PsiWhiteSpace(' ')(2294,2295)
                PsiElement(/)('/')(2295,2296)
                PsiWhiteSpace('\n                ')(2296,2313)
                BRACED_OR_TUPLE_EXPRESSION(2313,2345)
                  PsiElement(()('(')(2313,2314)
                  VARIABLE_REFERENCE_EXPRESSION(2314,2344)
                    FIELD_VARIABLE_REFERENCE(2314,2344)
                      SIMPLE_VARIABLE_REFERENCE(2314,2327)
                        NAME_REFERENCE(2314,2327)
                          PsiElement(identifier)('materialUsage')(2314,2327)
                      FIELD(2327,2344)
                        PsiElement(.)('.')(2327,2328)
                        PsiElement(identifier)('totalRawMaterial')(2328,2344)
                  PsiElement())(')')(2344,2345)
              PsiElement(;)(';')(2345,2346)
          PsiWhiteSpace('\n\n    ')(2346,2352)
          STATEMENT(2352,2548)
            EXPRESSION_STMT(2352,2548)
              VARIABLE_REFERENCE_EXPRESSION(2352,2547)
                FUNCTION_INVOCATION_REFERENCE(2352,2547)
                  FUNCTION_INVOCATION(2352,2547)
                    FUNCTION_NAME_REFERENCE(2352,2362)
                      PACKAGE_REFERENCE(2352,2355)
                        PsiElement(identifier)('io')(2352,2354)
                        PsiElement(:)(':')(2354,2355)
                      ANY_IDENTIFIER_NAME(2355,2362)
                        PsiElement(identifier)('println')(2355,2362)
                    PsiElement(()('(')(2362,2363)
                    INVOCATION_ARG_LIST(2363,2546)
                      INVOCATION_ARG(2363,2546)
                        BINARY_ADD_SUB_EXPRESSION(2363,2546)
                          BINARY_ADD_SUB_EXPRESSION(2363,2520)
                            BINARY_ADD_SUB_EXPRESSION(2363,2477)
                              BINARY_ADD_SUB_EXPRESSION(2363,2456)
                                SIMPLE_LITERAL_EXPRESSION(2363,2417)
                                  SIMPLE_LITERAL(2363,2417)
                                    PsiElement(QUOTED_STRING_LITERAL)('"ALERT!! : Material usage is higher than the expected"')(2363,2417)
                                PsiWhiteSpace('\n            ')(2417,2430)
                                PsiElement(+)('+')(2430,2431)
                                PsiWhiteSpace(' ')(2431,2432)
                                SIMPLE_LITERAL_EXPRESSION(2432,2456)
                                  SIMPLE_LITERAL(2432,2456)
                                    PsiElement(QUOTED_STRING_LITERAL)('" limit for material : "')(2432,2456)
                              PsiWhiteSpace(' ')(2456,2457)
                              PsiElement(+)('+')(2457,2458)
                              PsiWhiteSpace(' ')(2458,2459)
                              VARIABLE_REFERENCE_EXPRESSION(2459,2477)
                                FIELD_VARIABLE_REFERENCE(2459,2477)
                                  SIMPLE_VARIABLE_REFERENCE(2459,2472)
                                    NAME_REFERENCE(2459,2472)
                                      PsiElement(identifier)('materialUsage')(2459,2472)
                                  FIELD(2472,2477)
                                    PsiElement(.)('.')(2472,2473)
                                    PsiElement(identifier)('name')(2473,2477)
                            PsiWhiteSpace(' ')(2477,2478)
                            PsiElement(+)('+')(2478,2479)
                            PsiWhiteSpace('\n            ')(2479,2492)
                            SIMPLE_LITERAL_EXPRESSION(2492,2520)
                              SIMPLE_LITERAL(2492,2520)
                                PsiElement(QUOTED_STRING_LITERAL)('" , usage difference (%) : "')(2492,2520)
                          PsiWhiteSpace(' ')(2520,2521)
                          PsiElement(+)('+')(2521,2522)
                          PsiWhiteSpace(' ')(2522,2523)
                          VARIABLE_REFERENCE_EXPRESSION(2523,2546)
                            SIMPLE_VARIABLE_REFERENCE(2523,2546)
                              NAME_REFERENCE(2523,2546)
                                PsiElement(identifier)('materialUsageDifference')(2523,2546)
                    PsiElement())(')')(2546,2547)
              PsiElement(;)(';')(2547,2548)
        PsiWhiteSpace('\n')(2548,2549)
        PsiElement(})('}')(2549,2550)
  PsiWhiteSpace('\n\n')(2550,2552)
  DEFINITION(2552,2618)
    GLOBAL_ENDPOINT_DEFINITION(2552,2618)
      ENDPOINT_DEFINITION(2552,2618)
        PsiElement(endpoint)('endpoint')(2552,2560)
        PsiWhiteSpace(' ')(2560,2561)
        ENDPOINT_TYPE(2561,2574)
          NAME_REFERENCE(2561,2574)
            PACKAGE_REFERENCE(2561,2566)
              PsiElement(identifier)('http')(2561,2565)
              PsiElement(:)(':')(2565,2566)
            PsiElement(identifier)('Listener')(2566,2574)
        PsiWhiteSpace(' ')(2574,2575)
        PsiElement(identifier)('productMaterialListener')(2575,2598)
        PsiWhiteSpace(' ')(2598,2599)
        ENDPOINT_INITIALIZATION(2599,2617)
          RECORD_LITERAL(2599,2617)
            PsiElement({)('{')(2599,2600)
            PsiWhiteSpace('\n    ')(2600,2605)
            RECORD_LITERAL_BODY(2605,2615)
              RECORD_KEY_VALUE(2605,2615)
                RECORD_KEY(2605,2609)
                  VARIABLE_REFERENCE_EXPRESSION(2605,2609)
                    SIMPLE_VARIABLE_REFERENCE(2605,2609)
                      NAME_REFERENCE(2605,2609)
                        PsiElement(identifier)('port')(2605,2609)
                PsiElement(:)(':')(2609,2610)
                PsiWhiteSpace(' ')(2610,2611)
                SIMPLE_LITERAL_EXPRESSION(2611,2615)
                  SIMPLE_LITERAL(2611,2615)
                    INTEGER_LITERAL(2611,2615)
                      PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(2611,2615)
            PsiWhiteSpace('\n')(2615,2616)
            PsiElement(})('}')(2616,2617)
        PsiElement(;)(';')(2617,2618)
  PsiWhiteSpace('\n\n')(2618,2620)
  PsiComment(LINE_COMMENT)('// The service, which receives events related to the production outcome and the raw material input.')(2620,2719)
  PsiWhiteSpace('\n')(2719,2720)
  DEFINITION(2720,4700)
    ANNOTATION_ATTACHMENT(2720,2761)
      PsiElement(@)('@')(2720,2721)
      NAME_REFERENCE(2721,2739)
        PACKAGE_REFERENCE(2721,2726)
          PsiElement(identifier)('http')(2721,2725)
          PsiElement(:)(':')(2725,2726)
        PsiElement(identifier)('ServiceConfig')(2726,2739)
      PsiWhiteSpace(' ')(2739,2740)
      RECORD_LITERAL(2740,2761)
        PsiElement({)('{')(2740,2741)
        PsiWhiteSpace('\n    ')(2741,2746)
        RECORD_LITERAL_BODY(2746,2759)
          RECORD_KEY_VALUE(2746,2759)
            RECORD_KEY(2746,2754)
              VARIABLE_REFERENCE_EXPRESSION(2746,2754)
                SIMPLE_VARIABLE_REFERENCE(2746,2754)
                  NAME_REFERENCE(2746,2754)
                    PsiElement(identifier)('basePath')(2746,2754)
            PsiElement(:)(':')(2754,2755)
            PsiWhiteSpace(' ')(2755,2756)
            SIMPLE_LITERAL_EXPRESSION(2756,2759)
              SIMPLE_LITERAL(2756,2759)
                PsiElement(QUOTED_STRING_LITERAL)('"/"')(2756,2759)
        PsiWhiteSpace('\n')(2759,2760)
        PsiElement(})('}')(2760,2761)
    PsiWhiteSpace('\n')(2761,2762)
    DEFINITION(2762,4700)
      SERVICE_DEFINITION(2762,4700)
        PsiElement(service)('service')(2762,2769)
        PsiWhiteSpace(' ')(2769,2770)
        PsiElement(identifier)('productMaterialService')(2770,2792)
        PsiWhiteSpace(' ')(2792,2793)
        SERVICE_ENDPOINT_ATTACHMENTS(2793,2821)
          PsiElement(bind)('bind')(2793,2797)
          PsiWhiteSpace(' ')(2797,2798)
          NAME_REFERENCE(2798,2821)
            PsiElement(identifier)('productMaterialListener')(2798,2821)
        PsiWhiteSpace(' ')(2821,2822)
        SERVICE_BODY(2822,4700)
          PsiElement({)('{')(2822,2823)
          PsiWhiteSpace('\n\n    ')(2823,2829)
          PsiComment(LINE_COMMENT)('// Initialize the function that contains streaming queries.')(2829,2888)
          PsiWhiteSpace('\n    ')(2888,2893)
          VARIABLE_DEFINITION_STATEMENT(2893,2942)
            SIMPLE_TYPE_NAME(2893,2899)
              REFERENCE_TYPE_NAME(2893,2899)
                BUILT_IN_REFERENCE_TYPE_NAME(2893,2899)
                  FUTURE_TYPE_NAME(2893,2899)
                    PsiElement(future)('future')(2893,2899)
            PsiWhiteSpace(' ')(2899,2900)
            PsiElement(identifier)('ftr')(2900,2903)
            PsiWhiteSpace(' ')(2903,2904)
            PsiElement(=)('=')(2904,2905)
            PsiWhiteSpace(' ')(2905,2906)
            VARIABLE_REFERENCE_EXPRESSION(2906,2941)
              PsiElement(start)('start')(2906,2911)
              PsiWhiteSpace(' ')(2911,2912)
              FUNCTION_INVOCATION_REFERENCE(2912,2941)
                FUNCTION_INVOCATION(2912,2941)
                  FUNCTION_NAME_REFERENCE(2912,2939)
                    ANY_IDENTIFIER_NAME(2912,2939)
                      PsiElement(identifier)('initRealtimeProductionAlert')(2912,2939)
                  PsiElement(()('(')(2939,2940)
                  PsiElement())(')')(2940,2941)
            PsiElement(;)(';')(2941,2942)
          PsiWhiteSpace('\n\n    ')(2942,2948)
          RESOURCE_DEFINITION(2948,3795)
            ANNOTATION_ATTACHMENT(2948,3032)
              PsiElement(@)('@')(2948,2949)
              NAME_REFERENCE(2949,2968)
                PACKAGE_REFERENCE(2949,2954)
                  PsiElement(identifier)('http')(2949,2953)
                  PsiElement(:)(':')(2953,2954)
                PsiElement(identifier)('ResourceConfig')(2954,2968)
              PsiWhiteSpace(' ')(2968,2969)
              RECORD_LITERAL(2969,3032)
                PsiElement({)('{')(2969,2970)
                PsiWhiteSpace('\n        ')(2970,2979)
                RECORD_LITERAL_BODY(2979,3026)
                  RECORD_KEY_VALUE(2979,2996)
                    RECORD_KEY(2979,2986)
                      VARIABLE_REFERENCE_EXPRESSION(2979,2986)
                        SIMPLE_VARIABLE_REFERENCE(2979,2986)
                          NAME_REFERENCE(2979,2986)
                            PsiElement(identifier)('methods')(2979,2986)
                    PsiElement(:)(':')(2986,2987)
                    PsiWhiteSpace(' ')(2987,2988)
                    ARRAY_LITERAL_EXPRESSION(2988,2996)
                      ARRAY_LITERAL(2988,2996)
                        PsiElement([)('[')(2988,2989)
                        EXPRESSION_LIST(2989,2995)
                          SIMPLE_LITERAL_EXPRESSION(2989,2995)
                            SIMPLE_LITERAL(2989,2995)
                              PsiElement(QUOTED_STRING_LITERAL)('"POST"')(2989,2995)
                        PsiElement(])(']')(2995,2996)
                  PsiElement(,)(',')(2996,2997)
                  PsiWhiteSpace('\n        ')(2997,3006)
                  RECORD_KEY_VALUE(3006,3026)
                    RECORD_KEY(3006,3010)
                      VARIABLE_REFERENCE_EXPRESSION(3006,3010)
                        SIMPLE_VARIABLE_REFERENCE(3006,3010)
                          NAME_REFERENCE(3006,3010)
                            PsiElement(identifier)('path')(3006,3010)
                    PsiElement(:)(':')(3010,3011)
                    PsiWhiteSpace(' ')(3011,3012)
                    SIMPLE_LITERAL_EXPRESSION(3012,3026)
                      SIMPLE_LITERAL(3012,3026)
                        PsiElement(QUOTED_STRING_LITERAL)('"/rawmaterial"')(3012,3026)
                PsiWhiteSpace('\n    ')(3026,3031)
                PsiElement(})('}')(3031,3032)
            PsiWhiteSpace('\n    ')(3032,3037)
            PsiElement(identifier)('rawmaterialrequests')(3037,3056)
            PsiElement(()('(')(3056,3057)
            RESOURCE_PARAMETER_LIST(3057,3094)
              ENDPOINT_PARAMETER(3057,3094)
                PsiElement(endpoint)('endpoint')(3057,3065)
                PsiWhiteSpace(' ')(3065,3066)
                PsiElement(identifier)('outboundEP')(3066,3076)
                PsiElement(,)(',')(3076,3077)
                PsiWhiteSpace(' ')(3077,3078)
                PARAMETER_LIST(3078,3094)
                  PARAMETER(3078,3094)
                    PARAMETER_WITH_TYPE(3078,3094)
                      SIMPLE_TYPE_NAME(3078,3090)
                        REFERENCE_TYPE_NAME(3078,3090)
                          USER_DEFINE_TYPE_NAME(3078,3090)
                            NAME_REFERENCE(3078,3090)
                              PACKAGE_REFERENCE(3078,3083)
                                PsiElement(identifier)('http')(3078,3082)
                                PsiElement(:)(':')(3082,3083)
                              PsiElement(identifier)('Request')(3083,3090)
                      PsiWhiteSpace(' ')(3090,3091)
                      PsiElement(identifier)('req')(3091,3094)
            PsiElement())(')')(3094,3095)
            PsiWhiteSpace(' ')(3095,3096)
            CALLABLE_UNIT_BODY(3096,3795)
              PsiElement({)('{')(3096,3097)
              PsiWhiteSpace('\n        ')(3097,3106)
              BLOCK(3106,3789)
                STATEMENT(3106,3141)
                  ASSIGNMENT_STATEMENT(3106,3141)
                    PsiElement(var)('var')(3106,3109)
                    PsiWhiteSpace(' ')(3109,3110)
                    SIMPLE_VARIABLE_REFERENCE(3110,3117)
                      NAME_REFERENCE(3110,3117)
                        PsiElement(identifier)('jsonMsg')(3110,3117)
                    PsiWhiteSpace(' ')(3117,3118)
                    PsiElement(=)('=')(3118,3119)
                    PsiWhiteSpace(' ')(3119,3120)
                    VARIABLE_REFERENCE_EXPRESSION(3120,3140)
                      INVOCATION_REFERENCE(3120,3140)
                        SIMPLE_VARIABLE_REFERENCE(3120,3123)
                          NAME_REFERENCE(3120,3123)
                            PsiElement(identifier)('req')(3120,3123)
                        INVOCATION(3123,3140)
                          PsiElement(.)('.')(3123,3124)
                          ANY_IDENTIFIER_NAME(3124,3138)
                            PsiElement(identifier)('getJsonPayload')(3124,3138)
                          PsiElement(()('(')(3138,3139)
                          PsiElement())(')')(3139,3140)
                    PsiElement(;)(';')(3140,3141)
                PsiWhiteSpace('\n        ')(3141,3150)
                STATEMENT(3150,3789)
                  MATCH_STATEMENT(3150,3789)
                    PsiElement(match)('match')(3150,3155)
                    PsiWhiteSpace(' ')(3155,3156)
                    VARIABLE_REFERENCE_EXPRESSION(3156,3163)
                      SIMPLE_VARIABLE_REFERENCE(3156,3163)
                        NAME_REFERENCE(3156,3163)
                          PsiElement(identifier)('jsonMsg')(3156,3163)
                    PsiWhiteSpace(' ')(3163,3164)
                    MATCH_STATEMENT_BODY(3164,3789)
                      PsiElement({)('{')(3164,3165)
                      PsiWhiteSpace('\n            ')(3165,3178)
                      MATCH_PATTERN_CLAUSE(3178,3560)
                        NAMED_PATTERN(3178,3560)
                          SIMPLE_TYPE_NAME(3178,3182)
                            REFERENCE_TYPE_NAME(3178,3182)
                              BUILT_IN_REFERENCE_TYPE_NAME(3178,3182)
                                JSON_TYPE_NAME(3178,3182)
                                  PsiElement(json)('json')(3178,3182)
                          PsiWhiteSpace(' ')(3182,3183)
                          PsiElement(identifier)('msg')(3183,3186)
                          PsiWhiteSpace(' ')(3186,3187)
                          PsiElement(=>)('=>')(3187,3189)
                          PsiWhiteSpace(' ')(3189,3190)
                          PsiElement({)('{')(3190,3191)
                          PsiWhiteSpace('\n                ')(3191,3208)
                          BLOCK(3208,3545)
                            STATEMENT(3208,3257)
                              ASSIGNMENT_STATEMENT(3208,3257)
                                PsiElement(var)('var')(3208,3211)
                                PsiWhiteSpace(' ')(3211,3212)
                                SIMPLE_VARIABLE_REFERENCE(3212,3227)
                                  NAME_REFERENCE(3212,3227)
                                    PsiElement(identifier)('productMaterial')(3212,3227)
                                PsiWhiteSpace(' ')(3227,3228)
                                PsiElement(=)('=')(3228,3229)
                                PsiWhiteSpace(' ')(3229,3230)
                                CHECKED_EXPRESSION(3230,3256)
                                  PsiElement(check)('check')(3230,3235)
                                  PsiWhiteSpace(' ')(3235,3236)
                                  TYPE_CONVERSION_EXPRESSION(3236,3256)
                                    PsiElement(<)('<')(3236,3237)
                                    SIMPLE_TYPE_NAME(3237,3252)
                                      REFERENCE_TYPE_NAME(3237,3252)
                                        USER_DEFINE_TYPE_NAME(3237,3252)
                                          NAME_REFERENCE(3237,3252)
                                            PsiElement(identifier)('ProductMaterial')(3237,3252)
                                    PsiElement(>)('>')(3252,3253)
                                    VARIABLE_REFERENCE_EXPRESSION(3253,3256)
                                      SIMPLE_VARIABLE_REFERENCE(3253,3256)
                                        NAME_REFERENCE(3253,3256)
                                          PsiElement(identifier)('msg')(3253,3256)
                                PsiElement(;)(';')(3256,3257)
                            PsiWhiteSpace('\n                ')(3257,3274)
                            STATEMENT(3274,3317)
                              EXPRESSION_STMT(3274,3317)
                                VARIABLE_REFERENCE_EXPRESSION(3274,3316)
                                  INVOCATION_REFERENCE(3274,3316)
                                    SIMPLE_VARIABLE_REFERENCE(3274,3291)
                                      NAME_REFERENCE(3274,3291)
                                        PsiElement(identifier)('rawMaterialStream')(3274,3291)
                                    INVOCATION(3291,3316)
                                      PsiElement(.)('.')(3291,3292)
                                      ANY_IDENTIFIER_NAME(3292,3299)
                                        PsiElement(identifier)('publish')(3292,3299)
                                      PsiElement(()('(')(3299,3300)
                                      INVOCATION_ARG_LIST(3300,3315)
                                        INVOCATION_ARG(3300,3315)
                                          VARIABLE_REFERENCE_EXPRESSION(3300,3315)
                                            SIMPLE_VARIABLE_REFERENCE(3300,3315)
                                              NAME_REFERENCE(3300,3315)
                                                PsiElement(identifier)('productMaterial')(3300,3315)
                                      PsiElement())(')')(3315,3316)
                                PsiElement(;)(';')(3316,3317)
                            PsiWhiteSpace('\n\n                ')(3317,3335)
                            STATEMENT(3335,3359)
                              VARIABLE_DEFINITION_STATEMENT(3335,3359)
                                SIMPLE_TYPE_NAME(3335,3348)
                                  REFERENCE_TYPE_NAME(3335,3348)
                                    USER_DEFINE_TYPE_NAME(3335,3348)
                                      NAME_REFERENCE(3335,3348)
                                        PACKAGE_REFERENCE(3335,3340)
                                          PsiElement(identifier)('http')(3335,3339)
                                          PsiElement(:)(':')(3339,3340)
                                        PsiElement(identifier)('Response')(3340,3348)
                                PsiWhiteSpace(' ')(3348,3349)
                                PsiElement(identifier)('res')(3349,3352)
                                PsiWhiteSpace(' ')(3352,3353)
                                PsiElement(=)('=')(3353,3354)
                                PsiWhiteSpace(' ')(3354,3355)
                                TYPE_INIT_EXPRESSION(3355,3358)
                                  TYPE_INIT_EXPR(3355,3358)
                                    PsiElement(new)('new')(3355,3358)
                                PsiElement(;)(';')(3358,3359)
                            PsiWhiteSpace('\n                ')(3359,3376)
                            STATEMENT(3376,3499)
                              EXPRESSION_STMT(3376,3499)
                                VARIABLE_REFERENCE_EXPRESSION(3376,3498)
                                  INVOCATION_REFERENCE(3376,3498)
                                    SIMPLE_VARIABLE_REFERENCE(3376,3379)
                                      NAME_REFERENCE(3376,3379)
                                        PsiElement(identifier)('res')(3376,3379)
                                    INVOCATION(3379,3498)
                                      PsiElement(.)('.')(3379,3380)
                                      ANY_IDENTIFIER_NAME(3380,3394)
                                        PsiElement(identifier)('setJsonPayload')(3380,3394)
                                      PsiElement(()('(')(3394,3395)
                                      INVOCATION_ARG_LIST(3395,3497)
                                        INVOCATION_ARG(3395,3497)
                                          RECORD_LITERAL_EXPRESSION(3395,3497)
                                            RECORD_LITERAL(3395,3497)
                                              PsiElement({)('{')(3395,3396)
                                              RECORD_LITERAL_BODY(3396,3496)
                                                RECORD_KEY_VALUE(3396,3496)
                                                  RECORD_KEY(3396,3405)
                                                    SIMPLE_LITERAL_EXPRESSION(3396,3405)
                                                      SIMPLE_LITERAL(3396,3405)
                                                        PsiElement(QUOTED_STRING_LITERAL)('"message"')(3396,3405)
                                                  PsiElement(:)(':')(3405,3406)
                                                  PsiWhiteSpace(' ')(3406,3407)
                                                  BINARY_ADD_SUB_EXPRESSION(3407,3496)
                                                    SIMPLE_LITERAL_EXPRESSION(3407,3429)
                                                      SIMPLE_LITERAL(3407,3429)
                                                        PsiElement(QUOTED_STRING_LITERAL)('"Raw material request"')(3407,3429)
                                                    PsiWhiteSpace('\n                                        ')(3429,3470)
                                                    PsiElement(+)('+')(3470,3471)
                                                    PsiWhiteSpace(' ')(3471,3472)
                                                    SIMPLE_LITERAL_EXPRESSION(3472,3496)
                                                      SIMPLE_LITERAL(3472,3496)
                                                        PsiElement(QUOTED_STRING_LITERAL)('" successfully received"')(3472,3496)
                                              PsiElement(})('}')(3496,3497)
                                      PsiElement())(')')(3497,3498)
                                PsiElement(;)(';')(3498,3499)
                            PsiWhiteSpace('\n                ')(3499,3516)
                            STATEMENT(3516,3545)
                              ASSIGNMENT_STATEMENT(3516,3545)
                                SIMPLE_VARIABLE_REFERENCE(3516,3517)
                                  NAME_REFERENCE(3516,3517)
                                    PsiElement(identifier)('_')(3516,3517)
                                PsiWhiteSpace(' ')(3517,3518)
                                PsiElement(=)('=')(3518,3519)
                                PsiWhiteSpace(' ')(3519,3520)
                                ACTION_INVOCATION_EXPRESSION(3520,3544)
                                  ACTION_INVOCATION(3520,3544)
                                    NAME_REFERENCE(3520,3530)
                                      PsiElement(identifier)('outboundEP')(3520,3530)
                                    PsiElement(->)('->')(3530,3532)
                                    FUNCTION_INVOCATION(3532,3544)
                                      FUNCTION_NAME_REFERENCE(3532,3539)
                                        ANY_IDENTIFIER_NAME(3532,3539)
                                          PsiElement(identifier)('respond')(3532,3539)
                                      PsiElement(()('(')(3539,3540)
                                      INVOCATION_ARG_LIST(3540,3543)
                                        INVOCATION_ARG(3540,3543)
                                          VARIABLE_REFERENCE_EXPRESSION(3540,3543)
                                            SIMPLE_VARIABLE_REFERENCE(3540,3543)
                                              NAME_REFERENCE(3540,3543)
                                                PsiElement(identifier)('res')(3540,3543)
                                      PsiElement())(')')(3543,3544)
                                PsiElement(;)(';')(3544,3545)
                          PsiWhiteSpace('\n\n            ')(3545,3559)
                          PsiElement(})('}')(3559,3560)
                      PsiWhiteSpace('\n            ')(3560,3573)
                      MATCH_PATTERN_CLAUSE(3573,3779)
                        NAMED_PATTERN(3573,3779)
                          SIMPLE_TYPE_NAME(3573,3578)
                            REFERENCE_TYPE_NAME(3573,3578)
                              USER_DEFINE_TYPE_NAME(3573,3578)
                                NAME_REFERENCE(3573,3578)
                                  PsiElement(identifier)('error')(3573,3578)
                          PsiWhiteSpace(' ')(3578,3579)
                          PsiElement(identifier)('err')(3579,3582)
                          PsiWhiteSpace(' ')(3582,3583)
                          PsiElement(=>)('=>')(3583,3585)
                          PsiWhiteSpace(' ')(3585,3586)
                          PsiElement({)('{')(3586,3587)
                          PsiWhiteSpace('\n                ')(3587,3604)
                          BLOCK(3604,3765)
                            STATEMENT(3604,3628)
                              VARIABLE_DEFINITION_STATEMENT(3604,3628)
                                SIMPLE_TYPE_NAME(3604,3617)
                                  REFERENCE_TYPE_NAME(3604,3617)
                                    USER_DEFINE_TYPE_NAME(3604,3617)
                                      NAME_REFERENCE(3604,3617)
                                        PACKAGE_REFERENCE(3604,3609)
                                          PsiElement(identifier)('http')(3604,3608)
                                          PsiElement(:)(':')(3608,3609)
                                        PsiElement(identifier)('Response')(3609,3617)
                                PsiWhiteSpace(' ')(3617,3618)
                                PsiElement(identifier)('res')(3618,3621)
                                PsiWhiteSpace(' ')(3621,3622)
                                PsiElement(=)('=')(3622,3623)
                                PsiWhiteSpace(' ')(3623,3624)
                                TYPE_INIT_EXPRESSION(3624,3627)
                                  TYPE_INIT_EXPR(3624,3627)
                                    PsiElement(new)('new')(3624,3627)
                                PsiElement(;)(';')(3627,3628)
                            PsiWhiteSpace('\n                ')(3628,3645)
                            STATEMENT(3645,3666)
                              ASSIGNMENT_STATEMENT(3645,3666)
                                FIELD_VARIABLE_REFERENCE(3645,3659)
                                  SIMPLE_VARIABLE_REFERENCE(3645,3648)
                                    NAME_REFERENCE(3645,3648)
                                      PsiElement(identifier)('res')(3645,3648)
                                  FIELD(3648,3659)
                                    PsiElement(.)('.')(3648,3649)
                                    PsiElement(identifier)('statusCode')(3649,3659)
                                PsiWhiteSpace(' ')(3659,3660)
                                PsiElement(=)('=')(3660,3661)
                                PsiWhiteSpace(' ')(3661,3662)
                                SIMPLE_LITERAL_EXPRESSION(3662,3665)
                                  SIMPLE_LITERAL(3662,3665)
                                    INTEGER_LITERAL(3662,3665)
                                      PsiElement(DECIMAL_INTEGER_LITERAL)('500')(3662,3665)
                                PsiElement(;)(';')(3665,3666)
                            PsiWhiteSpace('\n                ')(3666,3683)
                            STATEMENT(3683,3719)
                              EXPRESSION_STMT(3683,3719)
                                VARIABLE_REFERENCE_EXPRESSION(3683,3718)
                                  INVOCATION_REFERENCE(3683,3718)
                                    SIMPLE_VARIABLE_REFERENCE(3683,3686)
                                      NAME_REFERENCE(3683,3686)
                                        PsiElement(identifier)('res')(3683,3686)
                                    INVOCATION(3686,3718)
                                      PsiElement(.)('.')(3686,3687)
                                      ANY_IDENTIFIER_NAME(3687,3697)
                                        PsiElement(identifier)('setPayload')(3687,3697)
                                      PsiElement(()('(')(3697,3698)
                                      INVOCATION_ARG_LIST(3698,3717)
                                        INVOCATION_ARG(3698,3717)
                                          UNARY_EXPRESSION(3698,3717)
                                            PsiElement(untaint)('untaint')(3698,3705)
                                            PsiWhiteSpace(' ')(3705,3706)
                                            VARIABLE_REFERENCE_EXPRESSION(3706,3717)
                                              FIELD_VARIABLE_REFERENCE(3706,3717)
                                                SIMPLE_VARIABLE_REFERENCE(3706,3709)
                                                  NAME_REFERENCE(3706,3709)
                                                    PsiElement(identifier)('err')(3706,3709)
                                                FIELD(3709,3717)
                                                  PsiElement(.)('.')(3709,3710)
                                                  PsiElement(identifier)('message')(3710,3717)
                                      PsiElement())(')')(3717,3718)
                                PsiElement(;)(';')(3718,3719)
                            PsiWhiteSpace('\n                ')(3719,3736)
                            STATEMENT(3736,3765)
                              ASSIGNMENT_STATEMENT(3736,3765)
                                SIMPLE_VARIABLE_REFERENCE(3736,3737)
                                  NAME_REFERENCE(3736,3737)
                                    PsiElement(identifier)('_')(3736,3737)
                                PsiWhiteSpace(' ')(3737,3738)
                                PsiElement(=)('=')(3738,3739)
                                PsiWhiteSpace(' ')(3739,3740)
                                ACTION_INVOCATION_EXPRESSION(3740,3764)
                                  ACTION_INVOCATION(3740,3764)
                                    NAME_REFERENCE(3740,3750)
                                      PsiElement(identifier)('outboundEP')(3740,3750)
                                    PsiElement(->)('->')(3750,3752)
                                    FUNCTION_INVOCATION(3752,3764)
                                      FUNCTION_NAME_REFERENCE(3752,3759)
                                        ANY_IDENTIFIER_NAME(3752,3759)
                                          PsiElement(identifier)('respond')(3752,3759)
                                      PsiElement(()('(')(3759,3760)
                                      INVOCATION_ARG_LIST(3760,3763)
                                        INVOCATION_ARG(3760,3763)
                                          VARIABLE_REFERENCE_EXPRESSION(3760,3763)
                                            SIMPLE_VARIABLE_REFERENCE(3760,3763)
                                              NAME_REFERENCE(3760,3763)
                                                PsiElement(identifier)('res')(3760,3763)
                                      PsiElement())(')')(3763,3764)
                                PsiElement(;)(';')(3764,3765)
                          PsiWhiteSpace('\n            ')(3765,3778)
                          PsiElement(})('}')(3778,3779)
                      PsiWhiteSpace('\n        ')(3779,3788)
                      PsiElement(})('}')(3788,3789)
              PsiWhiteSpace('\n    ')(3789,3794)
              PsiElement(})('}')(3794,3795)
          PsiWhiteSpace('\n\n    ')(3795,3801)
          RESOURCE_DEFINITION(3801,4698)
            ANNOTATION_ATTACHMENT(3801,3892)
              PsiElement(@)('@')(3801,3802)
              NAME_REFERENCE(3802,3821)
                PACKAGE_REFERENCE(3802,3807)
                  PsiElement(identifier)('http')(3802,3806)
                  PsiElement(:)(':')(3806,3807)
                PsiElement(identifier)('ResourceConfig')(3807,3821)
              PsiWhiteSpace(' ')(3821,3822)
              RECORD_LITERAL(3822,3892)
                PsiElement({)('{')(3822,3823)
                PsiWhiteSpace('\n        ')(3823,3832)
                RECORD_LITERAL_BODY(3832,3886)
                  RECORD_KEY_VALUE(3832,3849)
                    RECORD_KEY(3832,3839)
                      VARIABLE_REFERENCE_EXPRESSION(3832,3839)
                        SIMPLE_VARIABLE_REFERENCE(3832,3839)
                          NAME_REFERENCE(3832,3839)
                            PsiElement(identifier)('methods')(3832,3839)
                    PsiElement(:)(':')(3839,3840)
                    PsiWhiteSpace(' ')(3840,3841)
                    ARRAY_LITERAL_EXPRESSION(3841,3849)
                      ARRAY_LITERAL(3841,3849)
                        PsiElement([)('[')(3841,3842)
                        EXPRESSION_LIST(3842,3848)
                          SIMPLE_LITERAL_EXPRESSION(3842,3848)
                            SIMPLE_LITERAL(3842,3848)
                              PsiElement(QUOTED_STRING_LITERAL)('"POST"')(3842,3848)
                        PsiElement(])(']')(3848,3849)
                  PsiElement(,)(',')(3849,3850)
                  PsiWhiteSpace('\n        ')(3850,3859)
                  RECORD_KEY_VALUE(3859,3886)
                    RECORD_KEY(3859,3863)
                      VARIABLE_REFERENCE_EXPRESSION(3859,3863)
                        SIMPLE_VARIABLE_REFERENCE(3859,3863)
                          NAME_REFERENCE(3859,3863)
                            PsiElement(identifier)('path')(3859,3863)
                    PsiElement(:)(':')(3863,3864)
                    PsiWhiteSpace(' ')(3864,3865)
                    SIMPLE_LITERAL_EXPRESSION(3865,3886)
                      SIMPLE_LITERAL(3865,3886)
                        PsiElement(QUOTED_STRING_LITERAL)('"/productionmaterial"')(3865,3886)
                PsiWhiteSpace('\n    ')(3886,3891)
                PsiElement(})('}')(3891,3892)
            PsiWhiteSpace('\n    ')(3892,3897)
            PsiElement(identifier)('productionmaterialrequests')(3897,3923)
            PsiElement(()('(')(3923,3924)
            RESOURCE_PARAMETER_LIST(3924,3992)
              ENDPOINT_PARAMETER(3924,3992)
                PsiElement(endpoint)('endpoint')(3924,3932)
                PsiWhiteSpace(' ')(3932,3933)
                PsiElement(identifier)('outboundEP')(3933,3943)
                PsiElement(,)(',')(3943,3944)
                PsiWhiteSpace('\n                               ')(3944,3976)
                PARAMETER_LIST(3976,3992)
                  PARAMETER(3976,3992)
                    PARAMETER_WITH_TYPE(3976,3992)
                      SIMPLE_TYPE_NAME(3976,3988)
                        REFERENCE_TYPE_NAME(3976,3988)
                          USER_DEFINE_TYPE_NAME(3976,3988)
                            NAME_REFERENCE(3976,3988)
                              PACKAGE_REFERENCE(3976,3981)
                                PsiElement(identifier)('http')(3976,3980)
                                PsiElement(:)(':')(3980,3981)
                              PsiElement(identifier)('Request')(3981,3988)
                      PsiWhiteSpace(' ')(3988,3989)
                      PsiElement(identifier)('req')(3989,3992)
            PsiElement())(')')(3992,3993)
            PsiWhiteSpace(' ')(3993,3994)
            CALLABLE_UNIT_BODY(3994,4698)
              PsiElement({)('{')(3994,3995)
              PsiWhiteSpace('\n        ')(3995,4004)
              BLOCK(4004,4691)
                STATEMENT(4004,4039)
                  ASSIGNMENT_STATEMENT(4004,4039)
                    PsiElement(var)('var')(4004,4007)
                    PsiWhiteSpace(' ')(4007,4008)
                    SIMPLE_VARIABLE_REFERENCE(4008,4015)
                      NAME_REFERENCE(4008,4015)
                        PsiElement(identifier)('jsonMsg')(4008,4015)
                    PsiWhiteSpace(' ')(4015,4016)
                    PsiElement(=)('=')(4016,4017)
                    PsiWhiteSpace(' ')(4017,4018)
                    VARIABLE_REFERENCE_EXPRESSION(4018,4038)
                      INVOCATION_REFERENCE(4018,4038)
                        SIMPLE_VARIABLE_REFERENCE(4018,4021)
                          NAME_REFERENCE(4018,4021)
                            PsiElement(identifier)('req')(4018,4021)
                        INVOCATION(4021,4038)
                          PsiElement(.)('.')(4021,4022)
                          ANY_IDENTIFIER_NAME(4022,4036)
                            PsiElement(identifier)('getJsonPayload')(4022,4036)
                          PsiElement(()('(')(4036,4037)
                          PsiElement())(')')(4037,4038)
                    PsiElement(;)(';')(4038,4039)
                PsiWhiteSpace('\n        ')(4039,4048)
                STATEMENT(4048,4691)
                  MATCH_STATEMENT(4048,4691)
                    PsiElement(match)('match')(4048,4053)
                    PsiWhiteSpace(' ')(4053,4054)
                    VARIABLE_REFERENCE_EXPRESSION(4054,4061)
                      SIMPLE_VARIABLE_REFERENCE(4054,4061)
                        NAME_REFERENCE(4054,4061)
                          PsiElement(identifier)('jsonMsg')(4054,4061)
                    PsiWhiteSpace(' ')(4061,4062)
                    MATCH_STATEMENT_BODY(4062,4691)
                      PsiElement({)('{')(4062,4063)
                      PsiWhiteSpace('\n            ')(4063,4076)
                      MATCH_PATTERN_CLAUSE(4076,4462)
                        NAMED_PATTERN(4076,4462)
                          SIMPLE_TYPE_NAME(4076,4080)
                            REFERENCE_TYPE_NAME(4076,4080)
                              BUILT_IN_REFERENCE_TYPE_NAME(4076,4080)
                                JSON_TYPE_NAME(4076,4080)
                                  PsiElement(json)('json')(4076,4080)
                          PsiWhiteSpace(' ')(4080,4081)
                          PsiElement(identifier)('msg')(4081,4084)
                          PsiWhiteSpace(' ')(4084,4085)
                          PsiElement(=>)('=>')(4085,4087)
                          PsiWhiteSpace(' ')(4087,4088)
                          PsiElement({)('{')(4088,4089)
                          PsiWhiteSpace('\n                ')(4089,4106)
                          BLOCK(4106,4447)
                            STATEMENT(4106,4155)
                              ASSIGNMENT_STATEMENT(4106,4155)
                                PsiElement(var)('var')(4106,4109)
                                PsiWhiteSpace(' ')(4109,4110)
                                SIMPLE_VARIABLE_REFERENCE(4110,4125)
                                  NAME_REFERENCE(4110,4125)
                                    PsiElement(identifier)('productMaterial')(4110,4125)
                                PsiWhiteSpace(' ')(4125,4126)
                                PsiElement(=)('=')(4126,4127)
                                PsiWhiteSpace(' ')(4127,4128)
                                CHECKED_EXPRESSION(4128,4154)
                                  PsiElement(check)('check')(4128,4133)
                                  PsiWhiteSpace(' ')(4133,4134)
                                  TYPE_CONVERSION_EXPRESSION(4134,4154)
                                    PsiElement(<)('<')(4134,4135)
                                    SIMPLE_TYPE_NAME(4135,4150)
                                      REFERENCE_TYPE_NAME(4135,4150)
                                        USER_DEFINE_TYPE_NAME(4135,4150)
                                          NAME_REFERENCE(4135,4150)
                                            PsiElement(identifier)('ProductMaterial')(4135,4150)
                                    PsiElement(>)('>')(4150,4151)
                                    VARIABLE_REFERENCE_EXPRESSION(4151,4154)
                                      SIMPLE_VARIABLE_REFERENCE(4151,4154)
                                        NAME_REFERENCE(4151,4154)
                                          PsiElement(identifier)('msg')(4151,4154)
                                PsiElement(;)(';')(4154,4155)
                            PsiWhiteSpace('\n                ')(4155,4172)
                            STATEMENT(4172,4219)
                              EXPRESSION_STMT(4172,4219)
                                VARIABLE_REFERENCE_EXPRESSION(4172,4218)
                                  INVOCATION_REFERENCE(4172,4218)
                                    SIMPLE_VARIABLE_REFERENCE(4172,4193)
                                      NAME_REFERENCE(4172,4193)
                                        PsiElement(identifier)('productionInputStream')(4172,4193)
                                    INVOCATION(4193,4218)
                                      PsiElement(.)('.')(4193,4194)
                                      ANY_IDENTIFIER_NAME(4194,4201)
                                        PsiElement(identifier)('publish')(4194,4201)
                                      PsiElement(()('(')(4201,4202)
                                      INVOCATION_ARG_LIST(4202,4217)
                                        INVOCATION_ARG(4202,4217)
                                          VARIABLE_REFERENCE_EXPRESSION(4202,4217)
                                            SIMPLE_VARIABLE_REFERENCE(4202,4217)
                                              NAME_REFERENCE(4202,4217)
                                                PsiElement(identifier)('productMaterial')(4202,4217)
                                      PsiElement())(')')(4217,4218)
                                PsiElement(;)(';')(4218,4219)
                            PsiWhiteSpace('\n\n                ')(4219,4237)
                            STATEMENT(4237,4261)
                              VARIABLE_DEFINITION_STATEMENT(4237,4261)
                                SIMPLE_TYPE_NAME(4237,4250)
                                  REFERENCE_TYPE_NAME(4237,4250)
                                    USER_DEFINE_TYPE_NAME(4237,4250)
                                      NAME_REFERENCE(4237,4250)
                                        PACKAGE_REFERENCE(4237,4242)
                                          PsiElement(identifier)('http')(4237,4241)
                                          PsiElement(:)(':')(4241,4242)
                                        PsiElement(identifier)('Response')(4242,4250)
                                PsiWhiteSpace(' ')(4250,4251)
                                PsiElement(identifier)('res')(4251,4254)
                                PsiWhiteSpace(' ')(4254,4255)
                                PsiElement(=)('=')(4255,4256)
                                PsiWhiteSpace(' ')(4256,4257)
                                TYPE_INIT_EXPRESSION(4257,4260)
                                  TYPE_INIT_EXPR(4257,4260)
                                    PsiElement(new)('new')(4257,4260)
                                PsiElement(;)(';')(4260,4261)
                            PsiWhiteSpace('\n                ')(4261,4278)
                            STATEMENT(4278,4401)
                              EXPRESSION_STMT(4278,4401)
                                VARIABLE_REFERENCE_EXPRESSION(4278,4400)
                                  INVOCATION_REFERENCE(4278,4400)
                                    SIMPLE_VARIABLE_REFERENCE(4278,4281)
                                      NAME_REFERENCE(4278,4281)
                                        PsiElement(identifier)('res')(4278,4281)
                                    INVOCATION(4281,4400)
                                      PsiElement(.)('.')(4281,4282)
                                      ANY_IDENTIFIER_NAME(4282,4296)
                                        PsiElement(identifier)('setJsonPayload')(4282,4296)
                                      PsiElement(()('(')(4296,4297)
                                      INVOCATION_ARG_LIST(4297,4399)
                                        INVOCATION_ARG(4297,4399)
                                          RECORD_LITERAL_EXPRESSION(4297,4399)
                                            RECORD_LITERAL(4297,4399)
                                              PsiElement({)('{')(4297,4298)
                                              RECORD_LITERAL_BODY(4298,4398)
                                                RECORD_KEY_VALUE(4298,4398)
                                                  RECORD_KEY(4298,4307)
                                                    SIMPLE_LITERAL_EXPRESSION(4298,4307)
                                                      SIMPLE_LITERAL(4298,4307)
                                                        PsiElement(QUOTED_STRING_LITERAL)('"message"')(4298,4307)
                                                  PsiElement(:)(':')(4307,4308)
                                                  PsiWhiteSpace(' ')(4308,4309)
                                                  BINARY_ADD_SUB_EXPRESSION(4309,4398)
                                                    SIMPLE_LITERAL_EXPRESSION(4309,4328)
                                                      SIMPLE_LITERAL(4309,4328)
                                                        PsiElement(QUOTED_STRING_LITERAL)('"Production input "')(4309,4328)
                                                    PsiWhiteSpace(' ')(4328,4329)
                                                    PsiElement(+)('+')(4329,4330)
                                                    PsiWhiteSpace('\n                                    ')(4330,4367)
                                                    SIMPLE_LITERAL_EXPRESSION(4367,4398)
                                                      SIMPLE_LITERAL(4367,4398)
                                                        PsiElement(QUOTED_STRING_LITERAL)('"request successfully received"')(4367,4398)
                                              PsiElement(})('}')(4398,4399)
                                      PsiElement())(')')(4399,4400)
                                PsiElement(;)(';')(4400,4401)
                            PsiWhiteSpace('\n                ')(4401,4418)
                            STATEMENT(4418,4447)
                              ASSIGNMENT_STATEMENT(4418,4447)
                                SIMPLE_VARIABLE_REFERENCE(4418,4419)
                                  NAME_REFERENCE(4418,4419)
                                    PsiElement(identifier)('_')(4418,4419)
                                PsiWhiteSpace(' ')(4419,4420)
                                PsiElement(=)('=')(4420,4421)
                                PsiWhiteSpace(' ')(4421,4422)
                                ACTION_INVOCATION_EXPRESSION(4422,4446)
                                  ACTION_INVOCATION(4422,4446)
                                    NAME_REFERENCE(4422,4432)
                                      PsiElement(identifier)('outboundEP')(4422,4432)
                                    PsiElement(->)('->')(4432,4434)
                                    FUNCTION_INVOCATION(4434,4446)
                                      FUNCTION_NAME_REFERENCE(4434,4441)
                                        ANY_IDENTIFIER_NAME(4434,4441)
                                          PsiElement(identifier)('respond')(4434,4441)
                                      PsiElement(()('(')(4441,4442)
                                      INVOCATION_ARG_LIST(4442,4445)
                                        INVOCATION_ARG(4442,4445)
                                          VARIABLE_REFERENCE_EXPRESSION(4442,4445)
                                            SIMPLE_VARIABLE_REFERENCE(4442,4445)
                                              NAME_REFERENCE(4442,4445)
                                                PsiElement(identifier)('res')(4442,4445)
                                      PsiElement())(')')(4445,4446)
                                PsiElement(;)(';')(4446,4447)
                          PsiWhiteSpace('\n\n            ')(4447,4461)
                          PsiElement(})('}')(4461,4462)
                      PsiWhiteSpace('\n            ')(4462,4475)
                      MATCH_PATTERN_CLAUSE(4475,4681)
                        NAMED_PATTERN(4475,4681)
                          SIMPLE_TYPE_NAME(4475,4480)
                            REFERENCE_TYPE_NAME(4475,4480)
                              USER_DEFINE_TYPE_NAME(4475,4480)
                                NAME_REFERENCE(4475,4480)
                                  PsiElement(identifier)('error')(4475,4480)
                          PsiWhiteSpace(' ')(4480,4481)
                          PsiElement(identifier)('err')(4481,4484)
                          PsiWhiteSpace(' ')(4484,4485)
                          PsiElement(=>)('=>')(4485,4487)
                          PsiWhiteSpace(' ')(4487,4488)
                          PsiElement({)('{')(4488,4489)
                          PsiWhiteSpace('\n                ')(4489,4506)
                          BLOCK(4506,4667)
                            STATEMENT(4506,4530)
                              VARIABLE_DEFINITION_STATEMENT(4506,4530)
                                SIMPLE_TYPE_NAME(4506,4519)
                                  REFERENCE_TYPE_NAME(4506,4519)
                                    USER_DEFINE_TYPE_NAME(4506,4519)
                                      NAME_REFERENCE(4506,4519)
                                        PACKAGE_REFERENCE(4506,4511)
                                          PsiElement(identifier)('http')(4506,4510)
                                          PsiElement(:)(':')(4510,4511)
                                        PsiElement(identifier)('Response')(4511,4519)
                                PsiWhiteSpace(' ')(4519,4520)
                                PsiElement(identifier)('res')(4520,4523)
                                PsiWhiteSpace(' ')(4523,4524)
                                PsiElement(=)('=')(4524,4525)
                                PsiWhiteSpace(' ')(4525,4526)
                                TYPE_INIT_EXPRESSION(4526,4529)
                                  TYPE_INIT_EXPR(4526,4529)
                                    PsiElement(new)('new')(4526,4529)
                                PsiElement(;)(';')(4529,4530)
                            PsiWhiteSpace('\n                ')(4530,4547)
                            STATEMENT(4547,4568)
                              ASSIGNMENT_STATEMENT(4547,4568)
                                FIELD_VARIABLE_REFERENCE(4547,4561)
                                  SIMPLE_VARIABLE_REFERENCE(4547,4550)
                                    NAME_REFERENCE(4547,4550)
                                      PsiElement(identifier)('res')(4547,4550)
                                  FIELD(4550,4561)
                                    PsiElement(.)('.')(4550,4551)
                                    PsiElement(identifier)('statusCode')(4551,4561)
                                PsiWhiteSpace(' ')(4561,4562)
                                PsiElement(=)('=')(4562,4563)
                                PsiWhiteSpace(' ')(4563,4564)
                                SIMPLE_LITERAL_EXPRESSION(4564,4567)
                                  SIMPLE_LITERAL(4564,4567)
                                    INTEGER_LITERAL(4564,4567)
                                      PsiElement(DECIMAL_INTEGER_LITERAL)('500')(4564,4567)
                                PsiElement(;)(';')(4567,4568)
                            PsiWhiteSpace('\n                ')(4568,4585)
                            STATEMENT(4585,4621)
                              EXPRESSION_STMT(4585,4621)
                                VARIABLE_REFERENCE_EXPRESSION(4585,4620)
                                  INVOCATION_REFERENCE(4585,4620)
                                    SIMPLE_VARIABLE_REFERENCE(4585,4588)
                                      NAME_REFERENCE(4585,4588)
                                        PsiElement(identifier)('res')(4585,4588)
                                    INVOCATION(4588,4620)
                                      PsiElement(.)('.')(4588,4589)
                                      ANY_IDENTIFIER_NAME(4589,4599)
                                        PsiElement(identifier)('setPayload')(4589,4599)
                                      PsiElement(()('(')(4599,4600)
                                      INVOCATION_ARG_LIST(4600,4619)
                                        INVOCATION_ARG(4600,4619)
                                          UNARY_EXPRESSION(4600,4619)
                                            PsiElement(untaint)('untaint')(4600,4607)
                                            PsiWhiteSpace(' ')(4607,4608)
                                            VARIABLE_REFERENCE_EXPRESSION(4608,4619)
                                              FIELD_VARIABLE_REFERENCE(4608,4619)
                                                SIMPLE_VARIABLE_REFERENCE(4608,4611)
                                                  NAME_REFERENCE(4608,4611)
                                                    PsiElement(identifier)('err')(4608,4611)
                                                FIELD(4611,4619)
                                                  PsiElement(.)('.')(4611,4612)
                                                  PsiElement(identifier)('message')(4612,4619)
                                      PsiElement())(')')(4619,4620)
                                PsiElement(;)(';')(4620,4621)
                            PsiWhiteSpace('\n                ')(4621,4638)
                            STATEMENT(4638,4667)
                              ASSIGNMENT_STATEMENT(4638,4667)
                                SIMPLE_VARIABLE_REFERENCE(4638,4639)
                                  NAME_REFERENCE(4638,4639)
                                    PsiElement(identifier)('_')(4638,4639)
                                PsiWhiteSpace(' ')(4639,4640)
                                PsiElement(=)('=')(4640,4641)
                                PsiWhiteSpace(' ')(4641,4642)
                                ACTION_INVOCATION_EXPRESSION(4642,4666)
                                  ACTION_INVOCATION(4642,4666)
                                    NAME_REFERENCE(4642,4652)
                                      PsiElement(identifier)('outboundEP')(4642,4652)
                                    PsiElement(->)('->')(4652,4654)
                                    FUNCTION_INVOCATION(4654,4666)
                                      FUNCTION_NAME_REFERENCE(4654,4661)
                                        ANY_IDENTIFIER_NAME(4654,4661)
                                          PsiElement(identifier)('respond')(4654,4661)
                                      PsiElement(()('(')(4661,4662)
                                      INVOCATION_ARG_LIST(4662,4665)
                                        INVOCATION_ARG(4662,4665)
                                          VARIABLE_REFERENCE_EXPRESSION(4662,4665)
                                            SIMPLE_VARIABLE_REFERENCE(4662,4665)
                                              NAME_REFERENCE(4662,4665)
                                                PsiElement(identifier)('res')(4662,4665)
                                      PsiElement())(')')(4665,4666)
                                PsiElement(;)(';')(4666,4667)
                          PsiWhiteSpace('\n            ')(4667,4680)
                          PsiElement(})('}')(4680,4681)
                      PsiWhiteSpace('\n        ')(4681,4690)
                      PsiElement(})('}')(4690,4691)
              PsiWhiteSpace('\n\n    ')(4691,4697)
              PsiElement(})('}')(4697,4698)
          PsiWhiteSpace('\n')(4698,4699)
          PsiElement(})('}')(4699,4700)