Ballerina File(0,2139)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,43)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,42)
      PACKAGE_NAME(40,42)
        PsiElement(identifier)('io')(40,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n')(43,44)
  IMPORT_DECLARATION(44,65)
    PsiElement(import)('import')(44,50)
    PsiWhiteSpace(' ')(50,51)
    ORG_NAME(51,60)
      PsiElement(identifier)('ballerina')(51,60)
    PsiElement(/)('/')(60,61)
    COMPLETE_PACKAGE_NAME(61,64)
      PACKAGE_NAME(61,64)
        PsiElement(identifier)('log')(61,64)
    PsiElement(;)(';')(64,65)
  PsiWhiteSpace('\n\n')(65,67)
  DEFINITION(67,1103)
    ANNOTATION_ATTACHMENT(67,113)
      PsiElement(@)('@')(67,68)
      NAME_REFERENCE(68,86)
        PACKAGE_REFERENCE(68,73)
          PsiElement(identifier)('http')(68,72)
          PsiElement(:)(':')(72,73)
        PsiElement(identifier)('ServiceConfig')(73,86)
      PsiWhiteSpace(' ')(86,87)
      RECORD_LITERAL(87,113)
        PsiElement({)('{')(87,88)
        PsiWhiteSpace('\n    ')(88,93)
        RECORD_LITERAL_BODY(93,111)
          RECORD_KEY_VALUE(93,111)
            RECORD_KEY(93,101)
              VARIABLE_REFERENCE_EXPRESSION(93,101)
                SIMPLE_VARIABLE_REFERENCE(93,101)
                  NAME_REFERENCE(93,101)
                    PsiElement(identifier)('basePath')(93,101)
            PsiElement(:)(':')(101,102)
            PsiWhiteSpace(' ')(102,103)
            SIMPLE_LITERAL_EXPRESSION(103,111)
              SIMPLE_LITERAL(103,111)
                PsiElement(QUOTED_STRING_LITERAL)('"/hello"')(103,111)
        PsiWhiteSpace('\n')(111,112)
        PsiElement(})('}')(112,113)
    PsiWhiteSpace('\n')(113,114)
    DEFINITION(114,1103)
      SERVICE_DEFINITION(114,1103)
        PsiElement(service)('service')(114,121)
        PsiElement(<)('<')(121,122)
        NAME_REFERENCE(122,134)
          PACKAGE_REFERENCE(122,127)
            PsiElement(identifier)('http')(122,126)
            PsiElement(:)(':')(126,127)
          PsiElement(identifier)('Service')(127,134)
        PsiElement(>)('>')(134,135)
        PsiWhiteSpace(' ')(135,136)
        PsiElement(identifier)('httpService')(136,147)
        PsiWhiteSpace(' ')(147,148)
        SERVICE_ENDPOINT_ATTACHMENTS(148,167)
          PsiElement(bind)('bind')(148,152)
          PsiWhiteSpace(' ')(152,153)
          RECORD_LITERAL(153,167)
            PsiElement({)('{')(153,154)
            PsiWhiteSpace(' ')(154,155)
            RECORD_LITERAL_BODY(155,165)
              RECORD_KEY_VALUE(155,165)
                RECORD_KEY(155,159)
                  VARIABLE_REFERENCE_EXPRESSION(155,159)
                    SIMPLE_VARIABLE_REFERENCE(155,159)
                      NAME_REFERENCE(155,159)
                        PsiElement(identifier)('port')(155,159)
                PsiElement(:)(':')(159,160)
                PsiWhiteSpace(' ')(160,161)
                SIMPLE_LITERAL_EXPRESSION(161,165)
                  SIMPLE_LITERAL(161,165)
                    INTEGER_LITERAL(161,165)
                      PsiElement(DECIMAL_INTEGER_LITERAL)('9090')(161,165)
            PsiWhiteSpace(' ')(165,166)
            PsiElement(})('}')(166,167)
        PsiWhiteSpace(' ')(167,168)
        SERVICE_BODY(168,1103)
          PsiElement({)('{')(168,169)
          PsiWhiteSpace('\n\n    ')(169,175)
          RESOURCE_DEFINITION(175,901)
            ANNOTATION_ATTACHMENT(175,253)
              PsiElement(@)('@')(175,176)
              NAME_REFERENCE(176,195)
                PACKAGE_REFERENCE(176,181)
                  PsiElement(identifier)('http')(176,180)
                  PsiElement(:)(':')(180,181)
                PsiElement(identifier)('ResourceConfig')(181,195)
              PsiWhiteSpace(' ')(195,196)
              RECORD_LITERAL(196,253)
                PsiElement({)('{')(196,197)
                PsiWhiteSpace('\n        ')(197,206)
                RECORD_LITERAL_BODY(206,247)
                  RECORD_KEY_VALUE(206,220)
                    RECORD_KEY(206,210)
                      VARIABLE_REFERENCE_EXPRESSION(206,210)
                        SIMPLE_VARIABLE_REFERENCE(206,210)
                          NAME_REFERENCE(206,210)
                            PsiElement(identifier)('path')(206,210)
                    PsiElement(:)(':')(210,211)
                    PsiWhiteSpace(' ')(211,212)
                    SIMPLE_LITERAL_EXPRESSION(212,220)
                      SIMPLE_LITERAL(212,220)
                        PsiElement(QUOTED_STRING_LITERAL)('"/world"')(212,220)
                  PsiElement(,)(',')(220,221)
                  PsiWhiteSpace('\n        ')(221,230)
                  RECORD_KEY_VALUE(230,247)
                    RECORD_KEY(230,237)
                      VARIABLE_REFERENCE_EXPRESSION(230,237)
                        SIMPLE_VARIABLE_REFERENCE(230,237)
                          NAME_REFERENCE(230,237)
                            PsiElement(identifier)('methods')(230,237)
                    PsiElement(:)(':')(237,238)
                    PsiWhiteSpace(' ')(238,239)
                    ARRAY_LITERAL_EXPRESSION(239,247)
                      ARRAY_LITERAL(239,247)
                        PsiElement([)('[')(239,240)
                        EXPRESSION_LIST(240,246)
                          SIMPLE_LITERAL_EXPRESSION(240,246)
                            SIMPLE_LITERAL(240,246)
                              PsiElement(QUOTED_STRING_LITERAL)('"POST"')(240,246)
                        PsiElement(])(']')(246,247)
                PsiWhiteSpace('\n    ')(247,252)
                PsiElement(})('}')(252,253)
            PsiWhiteSpace('\n    ')(253,258)
            PsiElement(identifier)('httpResource')(258,270)
            PsiElement(()('(')(270,271)
            RESOURCE_PARAMETER_LIST(271,304)
              ENDPOINT_PARAMETER(271,304)
                PsiElement(endpoint)('endpoint')(271,279)
                PsiWhiteSpace(' ')(279,280)
                PsiElement(identifier)('caller')(280,286)
                PsiElement(,)(',')(286,287)
                PsiWhiteSpace(' ')(287,288)
                PARAMETER_LIST(288,304)
                  PARAMETER(288,304)
                    PARAMETER_WITH_TYPE(288,304)
                      SIMPLE_TYPE_NAME(288,300)
                        REFERENCE_TYPE_NAME(288,300)
                          USER_DEFINE_TYPE_NAME(288,300)
                            NAME_REFERENCE(288,300)
                              PACKAGE_REFERENCE(288,293)
                                PsiElement(identifier)('http')(288,292)
                                PsiElement(:)(':')(292,293)
                              PsiElement(identifier)('Request')(293,300)
                      PsiWhiteSpace(' ')(300,301)
                      PsiElement(identifier)('req')(301,304)
            PsiElement())(')')(304,305)
            PsiWhiteSpace(' ')(305,306)
            CALLABLE_UNIT_BODY(306,901)
              PsiElement({)('{')(306,307)
              PsiWhiteSpace('\n        ')(307,316)
              BLOCK(316,895)
                STATEMENT(316,341)
                  VARIABLE_DEFINITION_STATEMENT(316,341)
                    SIMPLE_TYPE_NAME(316,329)
                      REFERENCE_TYPE_NAME(316,329)
                        USER_DEFINE_TYPE_NAME(316,329)
                          NAME_REFERENCE(316,329)
                            PACKAGE_REFERENCE(316,321)
                              PsiElement(identifier)('http')(316,320)
                              PsiElement(:)(':')(320,321)
                            PsiElement(identifier)('Response')(321,329)
                    PsiWhiteSpace(' ')(329,330)
                    PsiElement(identifier)('resp')(330,334)
                    PsiWhiteSpace(' ')(334,335)
                    PsiElement(=)('=')(335,336)
                    PsiWhiteSpace(' ')(336,337)
                    TYPE_INIT_EXPRESSION(337,340)
                      TYPE_INIT_EXPR(337,340)
                        PsiElement(new)('new')(337,340)
                    PsiElement(;)(';')(340,341)
                PsiWhiteSpace('\n        ')(341,350)
                STATEMENT(350,385)
                  ASSIGNMENT_STATEMENT(350,385)
                    PsiElement(var)('var')(350,353)
                    PsiWhiteSpace(' ')(353,354)
                    SIMPLE_VARIABLE_REFERENCE(354,361)
                      NAME_REFERENCE(354,361)
                        PsiElement(identifier)('payload')(354,361)
                    PsiWhiteSpace(' ')(361,362)
                    PsiElement(=)('=')(362,363)
                    PsiWhiteSpace(' ')(363,364)
                    VARIABLE_REFERENCE_EXPRESSION(364,384)
                      INVOCATION_REFERENCE(364,384)
                        SIMPLE_VARIABLE_REFERENCE(364,367)
                          NAME_REFERENCE(364,367)
                            PsiElement(identifier)('req')(364,367)
                        INVOCATION(367,384)
                          PsiElement(.)('.')(367,368)
                          ANY_IDENTIFIER_NAME(368,382)
                            PsiElement(identifier)('getTextPayload')(368,382)
                          PsiElement(()('(')(382,383)
                          PsiElement())(')')(383,384)
                    PsiElement(;)(';')(384,385)
                PsiWhiteSpace('\n        ')(385,394)
                STATEMENT(394,777)
                  MATCH_STATEMENT(394,777)
                    PsiElement(match)('match')(394,399)
                    PsiWhiteSpace(' ')(399,400)
                    VARIABLE_REFERENCE_EXPRESSION(400,407)
                      SIMPLE_VARIABLE_REFERENCE(400,407)
                        NAME_REFERENCE(400,407)
                          PsiElement(identifier)('payload')(400,407)
                    PsiWhiteSpace(' ')(407,408)
                    MATCH_STATEMENT_BODY(408,777)
                      PsiElement({)('{')(408,409)
                      PsiWhiteSpace('\n            ')(409,422)
                      MATCH_PATTERN_CLAUSE(422,611)
                        NAMED_PATTERN(422,611)
                          SIMPLE_TYPE_NAME(422,427)
                            REFERENCE_TYPE_NAME(422,427)
                              USER_DEFINE_TYPE_NAME(422,427)
                                NAME_REFERENCE(422,427)
                                  PsiElement(identifier)('error')(422,427)
                          PsiWhiteSpace(' ')(427,428)
                          PsiElement(identifier)('err')(428,431)
                          PsiWhiteSpace(' ')(431,432)
                          PsiElement(=>)('=>')(432,434)
                          PsiWhiteSpace(' ')(434,435)
                          PsiElement({)('{')(435,436)
                          PsiWhiteSpace('\n                ')(436,453)
                          BLOCK(453,597)
                            STATEMENT(453,504)
                              EXPRESSION_STMT(453,504)
                                VARIABLE_REFERENCE_EXPRESSION(453,503)
                                  FUNCTION_INVOCATION_REFERENCE(453,503)
                                    FUNCTION_INVOCATION(453,503)
                                      FUNCTION_NAME_REFERENCE(453,467)
                                        PACKAGE_REFERENCE(453,457)
                                          PsiElement(identifier)('log')(453,456)
                                          PsiElement(:)(':')(456,457)
                                        ANY_IDENTIFIER_NAME(457,467)
                                          PsiElement(identifier)('printError')(457,467)
                                      PsiElement(()('(')(467,468)
                                      INVOCATION_ARG_LIST(468,502)
                                        INVOCATION_ARG(468,491)
                                          SIMPLE_LITERAL_EXPRESSION(468,491)
                                            SIMPLE_LITERAL(468,491)
                                              PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(468,491)
                                        PsiElement(,)(',')(491,492)
                                        PsiWhiteSpace(' ')(492,493)
                                        INVOCATION_ARG(493,502)
                                          NAMED_ARGS(493,502)
                                            PsiElement(identifier)('err')(493,496)
                                            PsiWhiteSpace(' ')(496,497)
                                            PsiElement(=)('=')(497,498)
                                            PsiWhiteSpace(' ')(498,499)
                                            VARIABLE_REFERENCE_EXPRESSION(499,502)
                                              SIMPLE_VARIABLE_REFERENCE(499,502)
                                                NAME_REFERENCE(499,502)
                                                  PsiElement(identifier)('err')(499,502)
                                      PsiElement())(')')(502,503)
                                PsiElement(;)(';')(503,504)
                            PsiWhiteSpace('\n                ')(504,521)
                            STATEMENT(521,558)
                              EXPRESSION_STMT(521,558)
                                VARIABLE_REFERENCE_EXPRESSION(521,557)
                                  INVOCATION_REFERENCE(521,557)
                                    SIMPLE_VARIABLE_REFERENCE(521,525)
                                      NAME_REFERENCE(521,525)
                                        PsiElement(identifier)('resp')(521,525)
                                    INVOCATION(525,557)
                                      PsiElement(.)('.')(525,526)
                                      ANY_IDENTIFIER_NAME(526,536)
                                        PsiElement(identifier)('setPayload')(526,536)
                                      PsiElement(()('(')(536,537)
                                      INVOCATION_ARG_LIST(537,556)
                                        INVOCATION_ARG(537,556)
                                          UNARY_EXPRESSION(537,556)
                                            PsiElement(untaint)('untaint')(537,544)
                                            PsiWhiteSpace(' ')(544,545)
                                            VARIABLE_REFERENCE_EXPRESSION(545,556)
                                              FIELD_VARIABLE_REFERENCE(545,556)
                                                SIMPLE_VARIABLE_REFERENCE(545,548)
                                                  NAME_REFERENCE(545,548)
                                                    PsiElement(identifier)('err')(545,548)
                                                FIELD(548,556)
                                                  PsiElement(.)('.')(548,549)
                                                  PsiElement(identifier)('message')(549,556)
                                      PsiElement())(')')(556,557)
                                PsiElement(;)(';')(557,558)
                            PsiWhiteSpace('\n                ')(558,575)
                            STATEMENT(575,597)
                              ASSIGNMENT_STATEMENT(575,597)
                                FIELD_VARIABLE_REFERENCE(575,590)
                                  SIMPLE_VARIABLE_REFERENCE(575,579)
                                    NAME_REFERENCE(575,579)
                                      PsiElement(identifier)('resp')(575,579)
                                  FIELD(579,590)
                                    PsiElement(.)('.')(579,580)
                                    PsiElement(identifier)('statusCode')(580,590)
                                PsiWhiteSpace(' ')(590,591)
                                PsiElement(=)('=')(591,592)
                                PsiWhiteSpace(' ')(592,593)
                                SIMPLE_LITERAL_EXPRESSION(593,596)
                                  SIMPLE_LITERAL(593,596)
                                    INTEGER_LITERAL(593,596)
                                      PsiElement(DECIMAL_INTEGER_LITERAL)('500')(593,596)
                                PsiElement(;)(';')(596,597)
                          PsiWhiteSpace('\n            ')(597,610)
                          PsiElement(})('}')(610,611)
                      PsiWhiteSpace('\n            ')(611,624)
                      MATCH_PATTERN_CLAUSE(624,767)
                        NAMED_PATTERN(624,767)
                          SIMPLE_TYPE_NAME(624,630)
                            VALUE_TYPE_NAME(624,630)
                              PsiElement(string)('string')(624,630)
                          PsiWhiteSpace(' ')(630,631)
                          PsiElement(identifier)('val')(631,634)
                          PsiWhiteSpace(' ')(634,635)
                          PsiElement(=>)('=>')(635,637)
                          PsiWhiteSpace(' ')(637,638)
                          PsiElement({)('{')(638,639)
                          PsiWhiteSpace('\n                ')(639,656)
                          BLOCK(656,753)
                            STATEMENT(656,672)
                              EXPRESSION_STMT(656,672)
                                VARIABLE_REFERENCE_EXPRESSION(656,671)
                                  FUNCTION_INVOCATION_REFERENCE(656,671)
                                    FUNCTION_INVOCATION(656,671)
                                      FUNCTION_NAME_REFERENCE(656,666)
                                        PACKAGE_REFERENCE(656,659)
                                          PsiElement(identifier)('io')(656,658)
                                          PsiElement(:)(':')(658,659)
                                        ANY_IDENTIFIER_NAME(659,666)
                                          PsiElement(identifier)('println')(659,666)
                                      PsiElement(()('(')(666,667)
                                      INVOCATION_ARG_LIST(667,670)
                                        INVOCATION_ARG(667,670)
                                          VARIABLE_REFERENCE_EXPRESSION(667,670)
                                            SIMPLE_VARIABLE_REFERENCE(667,670)
                                              NAME_REFERENCE(667,670)
                                                PsiElement(identifier)('val')(667,670)
                                      PsiElement())(')')(670,671)
                                PsiElement(;)(';')(671,672)
                            PsiWhiteSpace('\n                ')(672,689)
                            STATEMENT(689,753)
                              EXPRESSION_STMT(689,753)
                                VARIABLE_REFERENCE_EXPRESSION(689,752)
                                  INVOCATION_REFERENCE(689,752)
                                    SIMPLE_VARIABLE_REFERENCE(689,693)
                                      NAME_REFERENCE(689,693)
                                        PsiElement(identifier)('resp')(689,693)
                                    INVOCATION(693,752)
                                      PsiElement(.)('.')(693,694)
                                      ANY_IDENTIFIER_NAME(694,704)
                                        PsiElement(identifier)('setPayload')(694,704)
                                      PsiElement(()('(')(704,705)
                                      INVOCATION_ARG_LIST(705,751)
                                        INVOCATION_ARG(705,751)
                                          STRING_TEMPLATE_LITERAL_EXPRESSION(705,751)
                                            STRING_TEMPLATE_LITERAL(705,751)
                                              PsiElement(STRING_TEMPLATE_LITERAL_START)('string `')(705,713)
                                              STRING_TEMPLATE_CONTENT(713,750)
                                                PsiElement(STRING_TEMPLATE_EXPRESSION_START)('HTTP POST received: {{')(713,735)
                                                UNARY_EXPRESSION(735,746)
                                                  PsiElement(untaint)('untaint')(735,742)
                                                  PsiWhiteSpace(' ')(742,743)
                                                  VARIABLE_REFERENCE_EXPRESSION(743,746)
                                                    SIMPLE_VARIABLE_REFERENCE(743,746)
                                                      NAME_REFERENCE(743,746)
                                                        PsiElement(identifier)('val')(743,746)
                                                PsiElement(EXPRESSION_END)('}}')(746,748)
                                                PsiElement(STRING_TEMPLATE_TEXT)('\n')(748,750)
                                              PsiElement(STRING_TEMPLATE_LITERAL_END)('`')(750,751)
                                      PsiElement())(')')(751,752)
                                PsiElement(;)(';')(752,753)
                          PsiWhiteSpace('\n            ')(753,766)
                          PsiElement(})('}')(766,767)
                      PsiWhiteSpace('\n        ')(767,776)
                      PsiElement(})('}')(776,777)
                PsiWhiteSpace('\n\n        ')(777,787)
                STATEMENT(787,895)
                  EXPRESSION_STMT(787,895)
                    MATCH_EXPR_EXPRESSION(787,894)
                      ACTION_INVOCATION_EXPRESSION(787,808)
                        ACTION_INVOCATION(787,808)
                          NAME_REFERENCE(787,793)
                            PsiElement(identifier)('caller')(787,793)
                          PsiElement(->)('->')(793,795)
                          FUNCTION_INVOCATION(795,808)
                            FUNCTION_NAME_REFERENCE(795,802)
                              ANY_IDENTIFIER_NAME(795,802)
                                PsiElement(identifier)('respond')(795,802)
                            PsiElement(()('(')(802,803)
                            INVOCATION_ARG_LIST(803,807)
                              INVOCATION_ARG(803,807)
                                VARIABLE_REFERENCE_EXPRESSION(803,807)
                                  SIMPLE_VARIABLE_REFERENCE(803,807)
                                    NAME_REFERENCE(803,807)
                                      PsiElement(identifier)('resp')(803,807)
                            PsiElement())(')')(807,808)
                      PsiWhiteSpace(' ')(808,809)
                      MATCH_EXPRESSION(809,894)
                        PsiElement(but)('but')(809,812)
                        PsiWhiteSpace(' ')(812,813)
                        PsiElement({)('{')(813,814)
                        PsiWhiteSpace('\n            ')(814,827)
                        MATCH_EXPRESSION_PATTERN_CLAUSE(827,884)
                          SIMPLE_TYPE_NAME(827,832)
                            REFERENCE_TYPE_NAME(827,832)
                              USER_DEFINE_TYPE_NAME(827,832)
                                NAME_REFERENCE(827,832)
                                  PsiElement(identifier)('error')(827,832)
                          PsiWhiteSpace(' ')(832,833)
                          PsiElement(identifier)('e')(833,834)
                          PsiWhiteSpace(' ')(834,835)
                          PsiElement(=>)('=>')(835,837)
                          PsiWhiteSpace(' ')(837,838)
                          VARIABLE_REFERENCE_EXPRESSION(838,884)
                            FUNCTION_INVOCATION_REFERENCE(838,884)
                              FUNCTION_INVOCATION(838,884)
                                FUNCTION_NAME_REFERENCE(838,852)
                                  PACKAGE_REFERENCE(838,842)
                                    PsiElement(identifier)('log')(838,841)
                                    PsiElement(:)(':')(841,842)
                                  ANY_IDENTIFIER_NAME(842,852)
                                    PsiElement(identifier)('printError')(842,852)
                                PsiElement(()('(')(852,853)
                                INVOCATION_ARG_LIST(853,883)
                                  INVOCATION_ARG(853,874)
                                    SIMPLE_LITERAL_EXPRESSION(853,874)
                                      SIMPLE_LITERAL(853,874)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error in responding"')(853,874)
                                  PsiElement(,)(',')(874,875)
                                  PsiWhiteSpace(' ')(875,876)
                                  INVOCATION_ARG(876,883)
                                    NAMED_ARGS(876,883)
                                      PsiElement(identifier)('err')(876,879)
                                      PsiWhiteSpace(' ')(879,880)
                                      PsiElement(=)('=')(880,881)
                                      PsiWhiteSpace(' ')(881,882)
                                      VARIABLE_REFERENCE_EXPRESSION(882,883)
                                        SIMPLE_VARIABLE_REFERENCE(882,883)
                                          NAME_REFERENCE(882,883)
                                            PsiElement(identifier)('e')(882,883)
                                PsiElement())(')')(883,884)
                        PsiWhiteSpace('\n        ')(884,893)
                        PsiElement(})('}')(893,894)
                    PsiElement(;)(';')(894,895)
              PsiWhiteSpace('\n    ')(895,900)
              PsiElement(})('}')(900,901)
          PsiWhiteSpace('\n\n\n    ')(901,908)
          RESOURCE_DEFINITION(908,1101)
            ANNOTATION_ATTACHMENT(908,1044)
              PsiElement(@)('@')(908,909)
              NAME_REFERENCE(909,928)
                PACKAGE_REFERENCE(909,914)
                  PsiElement(identifier)('http')(909,913)
                  PsiElement(:)(':')(913,914)
                PsiElement(identifier)('ResourceConfig')(914,928)
              PsiWhiteSpace(' ')(928,929)
              RECORD_LITERAL(929,1044)
                PsiElement({)('{')(929,930)
                PsiWhiteSpace('\n        ')(930,939)
                RECORD_LITERAL_BODY(939,1038)
                  RECORD_KEY_VALUE(939,1038)
                    RECORD_KEY(939,955)
                      VARIABLE_REFERENCE_EXPRESSION(939,955)
                        SIMPLE_VARIABLE_REFERENCE(939,955)
                          NAME_REFERENCE(939,955)
                            PsiElement(identifier)('webSocketUpgrade')(939,955)
                    PsiElement(:)(':')(955,956)
                    PsiWhiteSpace(' ')(956,957)
                    RECORD_LITERAL_EXPRESSION(957,1038)
                      RECORD_LITERAL(957,1038)
                        PsiElement({)('{')(957,958)
                        PsiWhiteSpace('\n            ')(958,971)
                        RECORD_LITERAL_BODY(971,1028)
                          RECORD_KEY_VALUE(971,989)
                            RECORD_KEY(971,982)
                              VARIABLE_REFERENCE_EXPRESSION(971,982)
                                SIMPLE_VARIABLE_REFERENCE(971,982)
                                  NAME_REFERENCE(971,982)
                                    PsiElement(identifier)('upgradePath')(971,982)
                            PsiElement(:)(':')(982,983)
                            PsiWhiteSpace(' ')(983,984)
                            SIMPLE_LITERAL_EXPRESSION(984,989)
                              SIMPLE_LITERAL(984,989)
                                PsiElement(QUOTED_STRING_LITERAL)('"/ws"')(984,989)
                          PsiElement(,)(',')(989,990)
                          PsiWhiteSpace('\n            ')(990,1003)
                          RECORD_KEY_VALUE(1003,1028)
                            RECORD_KEY(1003,1017)
                              VARIABLE_REFERENCE_EXPRESSION(1003,1017)
                                SIMPLE_VARIABLE_REFERENCE(1003,1017)
                                  NAME_REFERENCE(1003,1017)
                                    PsiElement(identifier)('upgradeService')(1003,1017)
                            PsiElement(:)(':')(1017,1018)
                            PsiWhiteSpace(' ')(1018,1019)
                            VARIABLE_REFERENCE_EXPRESSION(1019,1028)
                              SIMPLE_VARIABLE_REFERENCE(1019,1028)
                                NAME_REFERENCE(1019,1028)
                                  PsiElement(identifier)('wsService')(1019,1028)
                        PsiWhiteSpace('\n        ')(1028,1037)
                        PsiElement(})('}')(1037,1038)
                PsiWhiteSpace('\n    ')(1038,1043)
                PsiElement(})('}')(1043,1044)
            PsiWhiteSpace('\n    ')(1044,1049)
            PsiElement(identifier)('upgrader')(1049,1057)
            PsiElement(()('(')(1057,1058)
            RESOURCE_PARAMETER_LIST(1058,1091)
              ENDPOINT_PARAMETER(1058,1091)
                PsiElement(endpoint)('endpoint')(1058,1066)
                PsiWhiteSpace(' ')(1066,1067)
                PsiElement(identifier)('caller')(1067,1073)
                PsiElement(,)(',')(1073,1074)
                PsiWhiteSpace(' ')(1074,1075)
                PARAMETER_LIST(1075,1091)
                  PARAMETER(1075,1091)
                    PARAMETER_WITH_TYPE(1075,1091)
                      SIMPLE_TYPE_NAME(1075,1087)
                        REFERENCE_TYPE_NAME(1075,1087)
                          USER_DEFINE_TYPE_NAME(1075,1087)
                            NAME_REFERENCE(1075,1087)
                              PACKAGE_REFERENCE(1075,1080)
                                PsiElement(identifier)('http')(1075,1079)
                                PsiElement(:)(':')(1079,1080)
                              PsiElement(identifier)('Request')(1080,1087)
                      PsiWhiteSpace(' ')(1087,1088)
                      PsiElement(identifier)('req')(1088,1091)
            PsiElement())(')')(1091,1092)
            PsiWhiteSpace(' ')(1092,1093)
            CALLABLE_UNIT_BODY(1093,1101)
              PsiElement({)('{')(1093,1094)
              PsiWhiteSpace('\n\n    ')(1094,1100)
              PsiElement(})('}')(1100,1101)
          PsiWhiteSpace('\n')(1101,1102)
          PsiElement(})('}')(1102,1103)
  PsiWhiteSpace('\n\n\n')(1103,1106)
  PsiComment(LINE_COMMENT)('// Note: When a WebSocket upgrade path is defined in HTTP resource configuration.')(1106,1187)
  PsiWhiteSpace('\n')(1187,1188)
  PsiComment(LINE_COMMENT)('// - Without service configuration for WebSocketService default values are taken for sub protocols, idle timeout etc...')(1188,1307)
  PsiWhiteSpace('\n')(1307,1308)
  PsiComment(LINE_COMMENT)('// - If  WebSocketServiceConfig is defined without the path, sub protocols, idle timeout etc... can be configured.')(1308,1422)
  PsiWhiteSpace('\n')(1422,1423)
  PsiComment(LINE_COMMENT)('// - If path is defined in the WebSocketServiceConfig it shall be ignored.')(1423,1497)
  PsiWhiteSpace('\n')(1497,1498)
  PsiComment(LINE_COMMENT)('// - This service can also be bound to a different endpoint in which case the path configuration becomes useful.')(1498,1610)
  PsiWhiteSpace('\n')(1610,1611)
  DEFINITION(1611,2139)
    ANNOTATION_ATTACHMENT(1611,1705)
      PsiElement(@)('@')(1611,1612)
      NAME_REFERENCE(1612,1639)
        PACKAGE_REFERENCE(1612,1617)
          PsiElement(identifier)('http')(1612,1616)
          PsiElement(:)(':')(1616,1617)
        PsiElement(identifier)('WebSocketServiceConfig')(1617,1639)
      PsiWhiteSpace(' ')(1639,1640)
      RECORD_LITERAL(1640,1705)
        PsiElement({)('{')(1640,1641)
        PsiWhiteSpace('\n    ')(1641,1646)
        RECORD_LITERAL_BODY(1646,1703)
          RECORD_KEY_VALUE(1646,1673)
            RECORD_KEY(1646,1658)
              VARIABLE_REFERENCE_EXPRESSION(1646,1658)
                SIMPLE_VARIABLE_REFERENCE(1646,1658)
                  NAME_REFERENCE(1646,1658)
                    PsiElement(identifier)('subProtocols')(1646,1658)
            PsiElement(:)(':')(1658,1659)
            PsiWhiteSpace(' ')(1659,1660)
            ARRAY_LITERAL_EXPRESSION(1660,1673)
              ARRAY_LITERAL(1660,1673)
                PsiElement([)('[')(1660,1661)
                EXPRESSION_LIST(1661,1672)
                  SIMPLE_LITERAL_EXPRESSION(1661,1672)
                    SIMPLE_LITERAL(1661,1672)
                      PsiElement(QUOTED_STRING_LITERAL)('"xml, json"')(1661,1672)
                PsiElement(])(']')(1672,1673)
          PsiElement(,)(',')(1673,1674)
          PsiWhiteSpace('\n    ')(1674,1679)
          RECORD_KEY_VALUE(1679,1703)
            RECORD_KEY(1679,1699)
              VARIABLE_REFERENCE_EXPRESSION(1679,1699)
                SIMPLE_VARIABLE_REFERENCE(1679,1699)
                  NAME_REFERENCE(1679,1699)
                    PsiElement(identifier)('idleTimeoutInSeconds')(1679,1699)
            PsiElement(:)(':')(1699,1700)
            PsiWhiteSpace(' ')(1700,1701)
            SIMPLE_LITERAL_EXPRESSION(1701,1703)
              SIMPLE_LITERAL(1701,1703)
                INTEGER_LITERAL(1701,1703)
                  PsiElement(DECIMAL_INTEGER_LITERAL)('20')(1701,1703)
        PsiWhiteSpace('\n')(1703,1704)
        PsiElement(})('}')(1704,1705)
    PsiWhiteSpace('\n')(1705,1706)
    DEFINITION(1706,2139)
      SERVICE_DEFINITION(1706,2139)
        PsiElement(service)('service')(1706,1713)
        PsiElement(<)('<')(1713,1714)
        NAME_REFERENCE(1714,1735)
          PACKAGE_REFERENCE(1714,1719)
            PsiElement(identifier)('http')(1714,1718)
            PsiElement(:)(':')(1718,1719)
          PsiElement(identifier)('WebSocketService')(1719,1735)
        PsiElement(>)('>')(1735,1736)
        PsiWhiteSpace(' ')(1736,1737)
        PsiElement(identifier)('wsService')(1737,1746)
        PsiWhiteSpace(' ')(1746,1747)
        SERVICE_BODY(1747,2139)
          PsiElement({)('{')(1747,1748)
          PsiWhiteSpace('\n\n    ')(1748,1754)
          RESOURCE_DEFINITION(1754,1847)
            PsiElement(identifier)('onOpen')(1754,1760)
            PsiElement(()('(')(1760,1761)
            RESOURCE_PARAMETER_LIST(1761,1776)
              ENDPOINT_PARAMETER(1761,1776)
                PsiElement(endpoint)('endpoint')(1761,1769)
                PsiWhiteSpace(' ')(1769,1770)
                PsiElement(identifier)('caller')(1770,1776)
            PsiElement())(')')(1776,1777)
            PsiWhiteSpace(' ')(1777,1778)
            CALLABLE_UNIT_BODY(1778,1847)
              PsiElement({)('{')(1778,1779)
              PsiWhiteSpace('\n        ')(1779,1788)
              BLOCK(1788,1841)
                STATEMENT(1788,1841)
                  EXPRESSION_STMT(1788,1841)
                    VARIABLE_REFERENCE_EXPRESSION(1788,1840)
                      FUNCTION_INVOCATION_REFERENCE(1788,1840)
                        FUNCTION_INVOCATION(1788,1840)
                          FUNCTION_NAME_REFERENCE(1788,1798)
                            PACKAGE_REFERENCE(1788,1791)
                              PsiElement(identifier)('io')(1788,1790)
                              PsiElement(:)(':')(1790,1791)
                            ANY_IDENTIFIER_NAME(1791,1798)
                              PsiElement(identifier)('println')(1791,1798)
                          PsiElement(()('(')(1798,1799)
                          INVOCATION_ARG_LIST(1799,1839)
                            INVOCATION_ARG(1799,1839)
                              BINARY_ADD_SUB_EXPRESSION(1799,1839)
                                SIMPLE_LITERAL_EXPRESSION(1799,1827)
                                  SIMPLE_LITERAL(1799,1827)
                                    PsiElement(QUOTED_STRING_LITERAL)('"New WebSocket connection: "')(1799,1827)
                                PsiWhiteSpace(' ')(1827,1828)
                                PsiElement(+)('+')(1828,1829)
                                PsiWhiteSpace(' ')(1829,1830)
                                VARIABLE_REFERENCE_EXPRESSION(1830,1839)
                                  FIELD_VARIABLE_REFERENCE(1830,1839)
                                    SIMPLE_VARIABLE_REFERENCE(1830,1836)
                                      NAME_REFERENCE(1830,1836)
                                        PsiElement(identifier)('caller')(1830,1836)
                                    FIELD(1836,1839)
                                      PsiElement(.)('.')(1836,1837)
                                      PsiElement(identifier)('id')(1837,1839)
                          PsiElement())(')')(1839,1840)
                    PsiElement(;)(';')(1840,1841)
              PsiWhiteSpace('\n    ')(1841,1846)
              PsiElement(})('}')(1846,1847)
          PsiWhiteSpace('\n\n    ')(1847,1853)
          RESOURCE_DEFINITION(1853,2043)
            PsiElement(identifier)('onText')(1853,1859)
            PsiElement(()('(')(1859,1860)
            RESOURCE_PARAMETER_LIST(1860,1888)
              ENDPOINT_PARAMETER(1860,1888)
                PsiElement(endpoint)('endpoint')(1860,1868)
                PsiWhiteSpace(' ')(1868,1869)
                PsiElement(identifier)('caller')(1869,1875)
                PsiElement(,)(',')(1875,1876)
                PsiWhiteSpace(' ')(1876,1877)
                PARAMETER_LIST(1877,1888)
                  PARAMETER(1877,1888)
                    PARAMETER_WITH_TYPE(1877,1888)
                      SIMPLE_TYPE_NAME(1877,1883)
                        VALUE_TYPE_NAME(1877,1883)
                          PsiElement(string)('string')(1877,1883)
                      PsiWhiteSpace(' ')(1883,1884)
                      PsiElement(identifier)('text')(1884,1888)
            PsiElement())(')')(1888,1889)
            PsiWhiteSpace(' ')(1889,1890)
            CALLABLE_UNIT_BODY(1890,2043)
              PsiElement({)('{')(1890,1891)
              PsiWhiteSpace('\n        ')(1891,1900)
              BLOCK(1900,2037)
                STATEMENT(1900,1917)
                  EXPRESSION_STMT(1900,1917)
                    VARIABLE_REFERENCE_EXPRESSION(1900,1916)
                      FUNCTION_INVOCATION_REFERENCE(1900,1916)
                        FUNCTION_INVOCATION(1900,1916)
                          FUNCTION_NAME_REFERENCE(1900,1910)
                            PACKAGE_REFERENCE(1900,1903)
                              PsiElement(identifier)('io')(1900,1902)
                              PsiElement(:)(':')(1902,1903)
                            ANY_IDENTIFIER_NAME(1903,1910)
                              PsiElement(identifier)('println')(1903,1910)
                          PsiElement(()('(')(1910,1911)
                          INVOCATION_ARG_LIST(1911,1915)
                            INVOCATION_ARG(1911,1915)
                              VARIABLE_REFERENCE_EXPRESSION(1911,1915)
                                SIMPLE_VARIABLE_REFERENCE(1911,1915)
                                  NAME_REFERENCE(1911,1915)
                                    PsiElement(identifier)('text')(1911,1915)
                          PsiElement())(')')(1915,1916)
                    PsiElement(;)(';')(1916,1917)
                PsiWhiteSpace('\n        ')(1917,1926)
                STATEMENT(1926,2037)
                  EXPRESSION_STMT(1926,2037)
                    MATCH_EXPR_EXPRESSION(1926,2036)
                      ACTION_INVOCATION_EXPRESSION(1926,1948)
                        ACTION_INVOCATION(1926,1948)
                          NAME_REFERENCE(1926,1932)
                            PsiElement(identifier)('caller')(1926,1932)
                          PsiElement(->)('->')(1932,1934)
                          FUNCTION_INVOCATION(1934,1948)
                            FUNCTION_NAME_REFERENCE(1934,1942)
                              ANY_IDENTIFIER_NAME(1934,1942)
                                PsiElement(identifier)('pushText')(1934,1942)
                            PsiElement(()('(')(1942,1943)
                            INVOCATION_ARG_LIST(1943,1947)
                              INVOCATION_ARG(1943,1947)
                                VARIABLE_REFERENCE_EXPRESSION(1943,1947)
                                  SIMPLE_VARIABLE_REFERENCE(1943,1947)
                                    NAME_REFERENCE(1943,1947)
                                      PsiElement(identifier)('text')(1943,1947)
                            PsiElement())(')')(1947,1948)
                      PsiWhiteSpace(' ')(1948,1949)
                      MATCH_EXPRESSION(1949,2036)
                        PsiElement(but)('but')(1949,1952)
                        PsiWhiteSpace(' ')(1952,1953)
                        PsiElement({)('{')(1953,1954)
                        PsiWhiteSpace('\n            ')(1954,1967)
                        MATCH_EXPRESSION_PATTERN_CLAUSE(1967,2026)
                          SIMPLE_TYPE_NAME(1967,1972)
                            REFERENCE_TYPE_NAME(1967,1972)
                              USER_DEFINE_TYPE_NAME(1967,1972)
                                NAME_REFERENCE(1967,1972)
                                  PsiElement(identifier)('error')(1967,1972)
                          PsiWhiteSpace(' ')(1972,1973)
                          PsiElement(identifier)('e')(1973,1974)
                          PsiWhiteSpace(' ')(1974,1975)
                          PsiElement(=>)('=>')(1975,1977)
                          PsiWhiteSpace(' ')(1977,1978)
                          VARIABLE_REFERENCE_EXPRESSION(1978,2026)
                            FUNCTION_INVOCATION_REFERENCE(1978,2026)
                              FUNCTION_INVOCATION(1978,2026)
                                FUNCTION_NAME_REFERENCE(1978,1992)
                                  PACKAGE_REFERENCE(1978,1982)
                                    PsiElement(identifier)('log')(1978,1981)
                                    PsiElement(:)(':')(1981,1982)
                                  ANY_IDENTIFIER_NAME(1982,1992)
                                    PsiElement(identifier)('printError')(1982,1992)
                                PsiElement(()('(')(1992,1993)
                                INVOCATION_ARG_LIST(1993,2025)
                                  INVOCATION_ARG(1993,2016)
                                    SIMPLE_LITERAL_EXPRESSION(1993,2016)
                                      SIMPLE_LITERAL(1993,2016)
                                        PsiElement(QUOTED_STRING_LITERAL)('"Error sending message"')(1993,2016)
                                  PsiElement(,)(',')(2016,2017)
                                  PsiWhiteSpace(' ')(2017,2018)
                                  INVOCATION_ARG(2018,2025)
                                    NAMED_ARGS(2018,2025)
                                      PsiElement(identifier)('err')(2018,2021)
                                      PsiWhiteSpace(' ')(2021,2022)
                                      PsiElement(=)('=')(2022,2023)
                                      PsiWhiteSpace(' ')(2023,2024)
                                      VARIABLE_REFERENCE_EXPRESSION(2024,2025)
                                        SIMPLE_VARIABLE_REFERENCE(2024,2025)
                                          NAME_REFERENCE(2024,2025)
                                            PsiElement(identifier)('e')(2024,2025)
                                PsiElement())(')')(2025,2026)
                        PsiWhiteSpace('\n        ')(2026,2035)
                        PsiElement(})('}')(2035,2036)
                    PsiElement(;)(';')(2036,2037)
              PsiWhiteSpace('\n    ')(2037,2042)
              PsiElement(})('}')(2042,2043)
          PsiWhiteSpace('\n\n    ')(2043,2049)
          RESOURCE_DEFINITION(2049,2137)
            PsiElement(identifier)('onIdleTimeout')(2049,2062)
            PsiElement(()('(')(2062,2063)
            RESOURCE_PARAMETER_LIST(2063,2078)
              ENDPOINT_PARAMETER(2063,2078)
                PsiElement(endpoint)('endpoint')(2063,2071)
                PsiWhiteSpace(' ')(2071,2072)
                PsiElement(identifier)('caller')(2072,2078)
            PsiElement())(')')(2078,2079)
            PsiWhiteSpace(' ')(2079,2080)
            CALLABLE_UNIT_BODY(2080,2137)
              PsiElement({)('{')(2080,2081)
              PsiWhiteSpace('\n        ')(2081,2090)
              BLOCK(2090,2131)
                STATEMENT(2090,2131)
                  EXPRESSION_STMT(2090,2131)
                    VARIABLE_REFERENCE_EXPRESSION(2090,2130)
                      FUNCTION_INVOCATION_REFERENCE(2090,2130)
                        FUNCTION_INVOCATION(2090,2130)
                          FUNCTION_NAME_REFERENCE(2090,2100)
                            PACKAGE_REFERENCE(2090,2093)
                              PsiElement(identifier)('io')(2090,2092)
                              PsiElement(:)(':')(2092,2093)
                            ANY_IDENTIFIER_NAME(2093,2100)
                              PsiElement(identifier)('println')(2093,2100)
                          PsiElement(()('(')(2100,2101)
                          INVOCATION_ARG_LIST(2101,2129)
                            INVOCATION_ARG(2101,2129)
                              BINARY_ADD_SUB_EXPRESSION(2101,2129)
                                SIMPLE_LITERAL_EXPRESSION(2101,2117)
                                  SIMPLE_LITERAL(2101,2117)
                                    PsiElement(QUOTED_STRING_LITERAL)('"Idle timeout: "')(2101,2117)
                                PsiWhiteSpace(' ')(2117,2118)
                                PsiElement(+)('+')(2118,2119)
                                PsiWhiteSpace(' ')(2119,2120)
                                VARIABLE_REFERENCE_EXPRESSION(2120,2129)
                                  FIELD_VARIABLE_REFERENCE(2120,2129)
                                    SIMPLE_VARIABLE_REFERENCE(2120,2126)
                                      NAME_REFERENCE(2120,2126)
                                        PsiElement(identifier)('caller')(2120,2126)
                                    FIELD(2126,2129)
                                      PsiElement(.)('.')(2126,2127)
                                      PsiElement(identifier)('id')(2127,2129)
                          PsiElement())(')')(2129,2130)
                    PsiElement(;)(';')(2130,2131)
              PsiWhiteSpace('\n    ')(2131,2136)
              PsiElement(})('}')(2136,2137)
          PsiWhiteSpace('\n')(2137,2138)
          PsiElement(})('}')(2138,2139)